{"remainingRequest":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js!/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nguyenxuancuong/Sites/hrm_fe/src/views/contracts/Listting.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nguyenxuancuong/Sites/hrm_fe/src/views/contracts/Listting.vue","mtime":1542807860433},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/cache-loader/dist/cjs.js","mtime":1538403001796},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport 'vuetify-daterange-picker/dist/vuetify-daterange-picker.css';\nimport DialogConfirm from '@/components/DialogConfirm';\nimport { mapFields } from 'vuex-map-fields';\nimport { debounce } from 'lodash';\nimport { format, subMonths } from 'date-fns';\nimport DataView from '@/components/DataView/DataView';\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  name: 'ContractListting',\n  props: {\n    isMini: {\n      type: Boolean,\n      default: false\n    }\n  },\n  components: {\n    DataView: DataView,\n    DialogConfirm: DialogConfirm\n  },\n  data: function data() {\n    return {\n      dialogDelete: false,\n      dataViewHeight: 0,\n      date: '',\n      menu: false,\n      dialog: false,\n      dialogLink: false,\n      listEmployees: [],\n      dataContracts: {},\n      range: [],\n      isLoadingEmployeeList: false,\n      dateRangeOptionsLabel: {\n        start: 'Ngày ký',\n        end: 'Ngày hết hạn',\n        preset: 'Thời gian'\n      },\n      dateRangeOptions: {\n        maxDate: format('2030-12-30', 'YYYY-MM-DD'),\n        startDate: format(new Date(), 'YYYY-MM-DD'),\n        endDate: format(new Date(), 'YYYY-MM-DD'),\n        format: 'DD/MM/YYYY',\n        presets: [{\n          label: 'Hôm nay',\n          range: [format(new Date(), 'YYYY-MM-DD'), format(new Date(), 'YYYY-MM-DD')]\n        }, {\n          label: '2 tháng sau',\n          range: [format(subMonths(new Date(), 0), 'YYYY-MM-DD'), format(subMonths(new Date(), -2), 'YYYY-MM-DD')]\n        }, {\n          label: '6 tháng sau',\n          range: [format(subMonths(new Date(), 0), 'YYYY-MM-DD'), format(subMonths(new Date(), -6), 'YYYY-MM-DD')]\n        }, {\n          label: '1 năm sau',\n          range: [format(subMonths(new Date(), 0), 'YYYY-MM-DD'), format(subMonths(new Date(), -12), 'YYYY-MM-DD')]\n        }, {\n          label: '2 năm sau',\n          range: [format(subMonths(new Date(), 0), 'YYYY-MM-DD'), format(subMonths(new Date(), -24), 'YYYY-MM-DD')]\n        }, {\n          label: '3 năm sau',\n          range: [format(subMonths(new Date(), 0), 'YYYY-MM-DD'), format(subMonths(new Date(), -36), 'YYYY-MM-DD')]\n        }]\n      },\n      employees: [],\n      dataViewName: 'contract',\n      idContract: null,\n      types: [{\n        'id': 0,\n        'name': 'Học việc'\n      }, {\n        'id': 1,\n        'name': 'Cộng tác viên'\n      }, {\n        'id': 2,\n        'name': 'Thử việc'\n      }, {\n        'id': 3,\n        'name': 'Có thời hạn'\n      }, {\n        'id': 4,\n        'name': 'Không thời hạn'\n      }, {\n        'id': 5,\n        'name': 'Khác'\n      }],\n      status: [{\n        'id': 0,\n        'name': 'Tiêu chuẩn'\n      }, {\n        'id': 1,\n        'name': 'Chấm dứt'\n      }, {\n        'id': 2,\n        'name': 'Gia hạn'\n      }]\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['isFetchingApi']), mapGetters('Employee', ['employeeAll']), mapGetters('Contracts', ['filterParams']), mapFields('Contracts', {\n    titleFilter: 'params.q',\n    employeeFilter: 'params.employeeId',\n    typeFilter: 'params.type',\n    statusFilter: 'params.status',\n    dateSignFilter: 'params.dateSign',\n    dateExpirationFilter: 'params.dateExpiration'\n  })),\n  methods: _objectSpread({}, mapActions(['fetchApi']), mapActions('Dataview', ['removeDataviewEntry']), mapActions('Contracts', ['deleteContract', 'getContract']), mapActions('Employee', ['getEmployees']), {\n    resetEmployee: function resetEmployee() {\n      this.getEmployees({\n        params: {\n          limit: 10\n        }\n      });\n    },\n    clearAll: function clearAll() {\n      this.titleFilter = '';\n      this.employeeFilter = '';\n      this.typeFilter = '';\n      this.statusFilter = '';\n      this.dateSignFilter = '';\n      this.dateExpirationFilter = '';\n      this.resetEmployee();\n      this.filter();\n    },\n    // Passes 2 parameters to item text selectbox\n    twoparams: function twoparams(item) {\n      return item.name + ' - ' + item.phone;\n    },\n    // open dialog\n    openDialog: function openDialog() {\n      this.dialog = true;\n    },\n    close: function close() {\n      this.dialog = false;\n    },\n    onDateRangeChange: function onDateRangeChange(range) {\n      this.range = range;\n      this.dateRangeOptions.presets[1].range[0] = format(range[0], 'YYYY-MM-DD');\n      this.dateRangeOptions.presets[1].range[1] = format(subMonths(range[0], -2), 'YYYY-MM-DD');\n      this.dateRangeOptions.presets[2].range[0] = format(range[0], 'YYYY-MM-DD');\n      this.dateRangeOptions.presets[2].range[1] = format(subMonths(range[0], -6), 'YYYY-MM-DD');\n      this.dateRangeOptions.presets[3].range[0] = format(range[0], 'YYYY-MM-DD');\n      this.dateRangeOptions.presets[3].range[1] = format(subMonths(range[0], -12), 'YYYY-MM-DD');\n    },\n    submitDate: function submitDate() {\n      if (this.range[0] === undefined || this.range[1] === undefined) {\n        this.range[0] = this.dateRangeOptions.startDate;\n        this.range[1] = this.dateRangeOptions.endDate;\n      } else {\n        this.dateSignFilter = this.range[0];\n        this.dateExpirationFilter = this.range[1];\n      }\n\n      this.date = 'Từ ngày ' + this.range[0];\n      this.date += ' đến ngày ' + this.range[1];\n      this.dialog = false;\n      this.changeSearch();\n    },\n    // screach api employee\n    sreachEmployeeList: debounce(function (value) {\n      var _this = this;\n\n      this.getEmployees({\n        params: {\n          q: value.target.value,\n          limit: 10\n        }\n      });\n      this.isLoadingEmployeeList = true;\n      setTimeout(function () {\n        _this.isLoadingEmployeeList = false;\n      }, 1000);\n    }, 500),\n    // deteail contract\n    contractDetail: function contractDetail(contract) {\n      this.getContract({\n        contractId: contract.id\n      });\n      this.$router.push({\n        name: 'contract-detail',\n        params: {\n          id: contract.id\n        }\n      });\n    },\n    // create contract\n    createContract: function createContract() {\n      // this.getEmployees({ params: { limit: 10 } })\n      this.$router.push({\n        name: 'contract-create'\n      });\n    },\n    // edit contract\n    editContract: function editContract(item) {\n      this.getContract({\n        params: {\n          include: 'employee'\n        },\n        contractId: item.id\n      });\n      this.getEmployees({\n        params: {\n          q: item.employee_name\n        }\n      });\n      this.$router.push({\n        name: 'contract-edit',\n        params: {\n          id: item.id\n        }\n      });\n    },\n    /// screach\n    changeSearch: debounce(function () {\n      this.filter();\n\n      if (this.$route.params.id) {\n        /// khi titlefilter detail ==0 thi clear  title\n        if (this.titleFilter.length === 0) {\n          this.titleFilter = '';\n        } else {\n          console.log('khong co gia tri');\n        }\n      }\n    }, 500),\n    filter: function filter() {\n      this.$refs[this.dataViewName].$emit('reload');\n    },\n    /// / reset screach\n    resetSreach: debounce(function () {\n      this.dateSignFilter = '';\n      this.dateExpirationFilter = '';\n      this.filter(); // khi click vao dau x trang detail thi clear het\n\n      if (this.$route.params.id) {\n        this.titleFilter = '';\n        this.employeeFilter = '';\n        this.typeFilter = '';\n        this.statusFilter = '';\n        this.dateSignFilter = '';\n        this.dateExpirationFilter = '';\n      }\n    }, 100),\n    removeConfirm: function removeConfirm(item) {\n      this.dataContracts = item;\n      this.idContract = item.id;\n      this.dialogDelete = true;\n    },\n    remove: function remove(confirm) {\n      var _this2 = this;\n\n      if (confirm) {\n        this.deleteContract({\n          id: this.idContract,\n          cb: function cb(response) {\n            _this2.removeDataviewEntry({\n              name: 'contract',\n              data: _this2.dataContracts,\n              key: 'id'\n            });\n\n            _this2.$store.dispatch('showNotify', {\n              text: _this2.$t('alert.delete-contract'),\n              color: 'success'\n            });\n\n            _this2.dialogDelete = false;\n          },\n          error: function error(_error) {\n            if (_error.status === 404) {\n              _this2.$store.dispatch('showNotify', {\n                text: _this2.$t('alert.not-found'),\n                color: 'warning'\n              });\n            }\n          }\n        });\n      }\n    }\n  }),\n  mounted: function mounted() {\n    var _this3 = this;\n\n    // mặc định lấy 10 bản ghi\n    if (!this.employeeAll.length) {\n      this.getEmployees({\n        params: {\n          limit: 10\n        }\n      });\n    } // dataviewhieght của trang contract detail\n\n\n    if (this.$route.params.id) {\n      this.dataViewHeight = this.$refs.laylout.clientHeight - 60;\n    } else {\n      // dataviewhieght của trang listting\n      this.dataViewHeight = this.$refs.laylout.clientHeight - 120;\n    }\n\n    var query = _objectSpread({}, this.$route.query);\n\n    if (query.hasOwnProperty('reload')) {\n      this.$nextTick(function () {\n        _this3.$refs[_this3.dataViewName].$emit('reload');\n      });\n      delete query.reload;\n      this.$router.replace({\n        query: query\n      });\n    }\n  }\n};",{"version":3,"sources":["Listting.vue"],"names":[],"mappings":"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","sourcesContent":[" <template>\n  <v-layout ref=\"laylout\" column fill-height>\n    <div ref=\"header\">\n      <v-toolbar height=\"60px\" color=\"white\" flat>\n        <v-layout row wrap>\n          <v-flex xl1 lg1 md1 sm1 xs2  class=\"paddTop-10\" :class=\"isMini  && 'max-width-col-2'\">\n            <!--  <v-tooltip bottom> -->\n            <v-tooltip bottom>\n              <v-btn slot=\"activator\" v-if=\"canAccess('contract.create')\"\n              @click=\"createContract\"\n              icon color=\"primary\"\n              >\n              <v-icon>add</v-icon\n                ></v-btn>\n                <span>Thêm mới</span>\n              </v-tooltip>\n              <!--  <span>Thêm mới</span> -->\n              <!-- </v-tooltip> -->\n            </v-flex>\n            <v-flex xl4 lg4 md4 sm4 xs10 class=\"paddRight-10\" :class=\"isMini && 'full-flex-basic full-width-col-10'\">\n             <v-text-field\n             hide-details\n             single-line\n             placeholder=\"Nhập tiêu đề hợp đồng\"\n             v-model=\"titleFilter\"\n             slot=\"activator\"\n             clearable\n             @click:clear=\"resetSreach\"\n             @keyup=\"changeSearch\"\n             ></v-text-field>\n           </v-flex>\n           <v-flex xl5 lg5 md5 sm5  class=\"display\"  :class=\"isMini && 'd-none'\">\n             <v-autocomplete\n             @change=\"filter\"\n             v-model=\"employeeFilter\"\n             :items=\"employeeAll\"\n             @keyup=\"sreachEmployeeList\"\n             :class=\"isMini && 'd-none'\"\n             :item-text=\"twoparams\"\n             clearable\n             @click:clear=\"resetEmployee\"\n             :loading=\"isLoadingEmployeeList\"\n             item-value=\"id\"\n             placeholder=\"Chọn tên nhân viên\"\n             >\n             <template slot=\"no-data\">\n              <v-list-tile>\n                <v-list-tile-title style=\"color: blue\">\n                  Không có tên nhân viên trong hệ thống\n                </v-list-tile-title>\n              </v-list-tile>\n            </template>\n            <template slot=\"item\" slot-scope=\"{ item }\">\n              {{item.name}} - {{item.phone}}\n            </template>\n          </v-autocomplete>\n        </v-flex>\n           <v-flex xl1 lg1 md1 sm1  class=\"display\"  :class=\"isMini && 'd-none'\">\n            <v-menu\n            :class=\"isMini && 'd-none'\"\n            :close-on-content-click=\"false\"\n            :nudge-width=\"400\"\n            absolute\n            v-model=\"menu\"\n            right\n            >\n            <v-btn slot=\"activator\" icon color=\"primary\" class=\"mt-3 ml-4\">\n              <v-icon>list</v-icon>\n            </v-btn>\n            <v-card>\n              <v-list class=\"pa-0\">\n                <v-list-tile avatar>\n                  <v-list-tile-content>\n                    <v-list-tile-title class=\"text-xs-center text-bold ml-4\">Lọc nhiều hơn</v-list-tile-title>\n                  </v-list-tile-content>\n                  <v-list-tile-action>\n                    <v-btn icon @click=\"menu = false\">\n                      <v-icon color=\"primary\">close</v-icon>\n                    </v-btn>\n                  </v-list-tile-action>\n                </v-list-tile>\n              </v-list>\n              <v-divider></v-divider>\n              <v-flex xs12 :class=\"isMini && 'd-none'\" class=\"pl-2 pr-2\">\n                  <v-autocomplete\n                  slot=\"activator\"\n                  :items=\"types\"\n                  item-value=\"id\"\n                  @change=\"filter\"\n                  v-model=\"typeFilter\"\n                  placeholder=\"Chọn loại hợp đồng\"\n                  item-text=\"name\"\n                  clearable\n                  >\n                </v-autocomplete>\n            </v-flex>\n            <v-divider></v-divider>\n            <v-flex xs12 class=\"pl-2 pr-2\" :class=\"isMini && 'd-none'\">\n               <v-autocomplete\n               slot=\"activator\"\n               :items=\"status\"\n               item-value=\"id\"\n               @change=\"filter\"\n               v-model=\"statusFilter\"\n               placeholder=\"Chọn trạng thái  hợp đồng\"\n               item-text=\"name\"\n               clearable >\n             </v-autocomplete>\n         </v-flex>\n         <v-divider></v-divider>\n         <v-flex xs12 class=\"pl-2 pr-2 pb-3\" :class=\"isMini && 'd-none'\">\n           <v-text-field\n           hide-details\n           single-line\n           slot=\"activator\"\n           v-model=\"date\"\n           placeholder=\"Tìm kiếm theo thời hạn hợp đồng \"\n           clearable\n           @click:clear=\"resetSreach\"\n           @click=\"openDialog\">\n         </v-text-field>\n       <v-dialog style=\"margin-left:10px\" v-model=\"dialog\" max-width=\"900px\" max-height=\"1200px\">\n        <v-card>\n          <v-daterange id='dateRange'\n          :options=\"dateRangeOptions\"\n          :labels=\"dateRangeOptionsLabel\"\n          :first-day-of-week=\"1\"\n          next-icon=\"arrow_forward\"\n          prev-icon=\"arrow_back\"\n          @input=\"onDateRangeChange\">\n        </v-daterange>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn flat\n          @click.native=\"submitDate\"\n          color=\"success darken-1\"\n          >\n          <span>Đồng ý</span>\n        </v-btn>\n        <v-btn color=\"error darken-1\" flat  @click.native=\"close\" class=\"ml-2\">Hủy bỏ</v-btn>\n        <v-spacer></v-spacer>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</v-flex>\n</v-card>\n</v-menu>\n</v-flex>\n<v-flex xl1 lg1 md1 sm1  class=\"display\"  :class=\"isMini && 'd-none'\">\n  <!--  <v-tooltip bottom> -->\n  <v-tooltip bottom>\n  <v-btn slot=\"activator\"\n    @click=\"clearAll\"\n    class=\" mt-3\" icon color=\"primary\"\n    :class=\"isMini && 'd-none'\"\n    >\n    <v-icon>close</v-icon\n      ></v-btn>\n      <span>Reset bộ lọc</span>\n    </v-tooltip>\n    <!--  <span>Thêm mới</span> -->\n    <!-- </v-tooltip> -->\n  </v-flex>\n</v-layout>\n</v-toolbar>\n<v-toolbar height=\"20\" color=\"white\" flat :class=\"isMini && 'd-none'\" class=\"pb-3\">\n <v-layout slot=\"extension\" v-if=\"!isMini\" class=\"pt-2 pb-2\">\n  <v-flex style=\"flex-basis:55px;\" xl1 lg1 md1 sm1 xs1  class=\"text-bold text-uppercase\">\n    #\n  </v-flex>\n  <v-flex xl3 lg3 md3 sm3 xs4 class=\"text-bold\">\n    Tiêu đề\n  </v-flex>\n  <v-flex xl2 lg2 md2 sm2 xs3 class=\"text-bold\">\n    Loại hợp đồng\n  </v-flex>\n  <v-flex  xl2 lg2 md2 sm2 xs3  class=\"text-bold marRight-4\">\n    Tên nhân viên\n  </v-flex>\n  <v-flex xl3 lg3 md3 sm3  class=\"text-bold display\">\n    <v-flex sm12>Thời gian</v-flex>\n  </v-flex>\n  <v-flex xl1 lg1 md1 sm1 xs1 class=\"text-bold\">\n    Hành động\n  </v-flex>\n</v-layout>\n</v-toolbar>\n</div>\n<v-flex xl12 lg12 md12 sm12 xs12  class=\"border-e0-top\">\n  <data-view\n  :name=\"dataViewName\"\n  api-url=\"contracts\"\n  v-if=\"dataViewHeight\"\n  :viewHeight=\"dataViewHeight\"\n  :params=\"filterParams\"\n  :ref=\"dataViewName\">\n  <template slot-scope=\"{items}\">\n    <v-list three-line>\n      <template v-for=\"(item, index) in items.data\">\n       <v-list-tile\n       :key=\"'item' + item.id\"\n       avatar\n       @click=\"contractDetail(item)\"\n       :inactive=\"item.id === $route.params.id\"\n       :class=\"item.id === $route.params.id && 'grey lighten-2'\"\n       >\n       <v-layout v-bind:key=\"index\" class=\"padd-4\">\n        <v-flex style=\"flex-basis:55px;\" xl1 lg1 md1 sm1 xs1  :class=\"isMini && 'd-none'\">\n          {{index + 1}}\n        </v-flex>\n        <v-flex   xl3 lg3 md3 sm3 xs4 class=\"paddLef-3\" :class=\"isMini && 'full-flex-basic full-max-width'\">\n          {{ item.title }}\n        </v-flex>\n        <v-flex  xl2 lg2 md2 sm2 xs3  :class=\"isMini && 'd-none'\">\n         <v-tooltip bottom xl12 lg12 md12 sm12 xs12>\n           <v-flex xl12 lg12 md12 sm12 xs12  slot=\"activator\">\n            {{ item.type_txt }}\n          </v-flex>\n          <span> Loại hợp đồng</span>\n        </v-tooltip>\n        <v-tooltip bottom xl12 lg12 md12 sm12 xs12>\n          <v-flex xl12 lg12 md12 sm12 xs12 slot=\"activator\" v-if=\"item.status == 0\" style=\"color:#03A9F4\">\n            {{ item.status_txt }}\n          </v-flex>\n           <v-flex xl12 lg12 md12 sm12 xs12 slot=\"activator\" v-if=\"item.status == 1\" style=\"color:#FF5722\">\n            {{ item.status_txt }}\n          </v-flex>\n           <v-flex xl12 lg12 md12 sm12 xs12 slot=\"activator\" v-if=\"item.status == 2\" style=\"color:green\">\n            {{ item.status_txt }}\n          </v-flex>\n          <span>Trạng thái hợp đồng</span>\n        </v-tooltip>\n      </v-flex>\n      <v-flex xl2 lg2 md2 sm2 xs3  class=\"marLeft-3\"  :class=\"isMini && 'd-none'\">\n       <!--  {{item.employee_name}} -->\n       <v-list-tile-sub-title class=\"text--primary\" v-if=\"item.employee_name\" :class=\"isMini && 'd-none'\">\n        {{ item.employee_name }}\n      </v-list-tile-sub-title>\n      <v-list-tile-sub-title class=\"text--primary\" v-if=\"item.employee_phone\" :class=\"isMini && 'd-none'\">\n        <v-icon size=\"16px\">phone</v-icon>\n        {{item.employee_phone}}\n      </v-list-tile-sub-title>\n    </v-flex>\n    <v-flex xl3 lg3 md3 sm3  class=\"display\" :class=\"isMini  && 'd-none'\">\n      <v-tooltip  bottom xl12 lg12 md12 sm12 xs12>\n        <v-flex xl12 lg12 md12 sm12 xs12 slot=\"activator\" :class=\"isMini && 'd-none'\">\n         <span style=\"padding-right: 45px;\"><b>Ký</b></span>\n         {{item.date_sign_format}}\n       </v-flex>\n       <span>Ngày  ký</span>\n     </v-tooltip>\n     <v-tooltip bottom xl12 lg12 md12 sm12 xs12 :class=\"isMini && 'd-none'\">\n       <v-flex xl12 lg12 md12 sm12 xs12 slot=\"activator\">\n        <span style=\"padding-right: 4px;\"><b>Hiệu lực</b></span>\n        {{item.date_effective_format}}\n      </v-flex>\n      <span>Ngày hiệu lực</span>\n    </v-tooltip>\n    <v-tooltip bottom xl12 lg12 md12 sm12 xs12 :class=\"isMini && 'd-none'\">\n     <v-flex xl12 lg12 md12 sm12 xs12 slot=\"activator\">\n       <span  style=\"padding-right: 4px;\"><b>Kết thúc </b></span>\n       {{ item.date_expiration_format }}\n     </v-flex>\n     <span>Ngày  kết thúc</span>\n   </v-tooltip>\n </v-flex>\n <v-flex xl1 lg1 md1 sm1 xs1  :class=\"isMini && 'd-none'\">\n   <v-tooltip bottom>\n    <v-btn slot=\"activator\" class=\"ma-0\" v-if=\"canAccess('contracts.update')\" icon @click.stop=\"editContract(item)\">\n      <v-icon class='theme--light teal--text'>edit</v-icon>\n    </v-btn>\n    <span>Sửa</span>\n  </v-tooltip>\n  <v-tooltip bottom>\n    <v-btn slot=\"activator\" class=\"ma-0\" v-if=\"canAccess('contracts.delete')\" icon @click.stop=\"removeConfirm(item)\">\n      <v-icon class=\"theme--light pink--text\">delete</v-icon>\n    </v-btn>\n    <span>Xóa</span>\n  </v-tooltip>\n</v-flex>\n</v-layout>\n</v-list-tile>\n<v-divider\n:key=\"'div'  + item.id\"\nv-if=\"index + 1 < items.data.length\"\n></v-divider>\n</template>\n</v-list>\n</template>\n</data-view>\n</v-flex>\n<!--open link-->\n<dialog-confirm v-model=\"dialogDelete\" @input=\"remove\" />\n</v-layout>\n</template>\n<script type=\"text/javascript\">\nimport 'vuetify-daterange-picker/dist/vuetify-daterange-picker.css'\nimport DialogConfirm from '@/components/DialogConfirm'\nimport { mapFields } from 'vuex-map-fields'\nimport { debounce } from 'lodash'\nimport { format, subMonths } from 'date-fns'\nimport DataView from '@/components/DataView/DataView'\nimport { mapActions, mapGetters } from 'vuex'\nexport default{\n  name: 'ContractListting',\n  props: {\n    isMini: {\n      type: Boolean,\n      default: false\n    }\n  },\n  components: {\n    DataView,\n    DialogConfirm\n  },\n  data: () => ({\n    dialogDelete: false,\n    dataViewHeight: 0,\n    date: '',\n    menu: false,\n    dialog: false,\n    dialogLink: false,\n    listEmployees: [],\n    dataContracts: {},\n    range: [],\n    isLoadingEmployeeList: false,\n    dateRangeOptionsLabel: {\n      start: 'Ngày ký',\n      end: 'Ngày hết hạn',\n      preset: 'Thời gian'\n    },\n    dateRangeOptions: {\n      maxDate: format('2030-12-30', 'YYYY-MM-DD'),\n      startDate: format(new Date(), 'YYYY-MM-DD'),\n      endDate: format(new Date(), 'YYYY-MM-DD'),\n      format: 'DD/MM/YYYY',\n      presets: [\n        {\n          label: 'Hôm nay',\n          range: [\n            format(new Date(), 'YYYY-MM-DD'),\n            format(new Date(), 'YYYY-MM-DD')\n          ]\n        },\n        {\n          label: '2 tháng sau',\n          range: [\n            format(subMonths(new Date(), 0), 'YYYY-MM-DD'),\n            format(subMonths(new Date(), -2), 'YYYY-MM-DD')\n          ]\n        },\n        {\n          label: '6 tháng sau',\n          range: [\n            format(subMonths(new Date(), 0), 'YYYY-MM-DD'),\n            format(subMonths(new Date(), -6), 'YYYY-MM-DD')\n          ]\n        },\n        {\n          label: '1 năm sau',\n          range: [\n            format(subMonths(new Date(), 0), 'YYYY-MM-DD'),\n            format(subMonths(new Date(), -12), 'YYYY-MM-DD')\n          ]\n        },\n        {\n          label: '2 năm sau',\n          range: [\n            format(subMonths(new Date(), 0), 'YYYY-MM-DD'),\n            format(subMonths(new Date(), -24), 'YYYY-MM-DD')\n          ]\n        },\n        {\n          label: '3 năm sau',\n          range: [\n            format(subMonths(new Date(), 0), 'YYYY-MM-DD'),\n            format(subMonths(new Date(), -36), 'YYYY-MM-DD')\n          ]\n        }\n      ]\n    },\n    employees: [],\n    dataViewName: 'contract',\n    idContract: null,\n    types: [\n      { 'id': 0, 'name': 'Học việc' },\n      { 'id': 1, 'name': 'Cộng tác viên' },\n      { 'id': 2, 'name': 'Thử việc' },\n      { 'id': 3, 'name': 'Có thời hạn' },\n      { 'id': 4, 'name': 'Không thời hạn' },\n      { 'id': 5, 'name': 'Khác' }\n    ],\n    status: [\n      { 'id': 0, 'name': 'Tiêu chuẩn' },\n      { 'id': 1, 'name': 'Chấm dứt' },\n      { 'id': 2, 'name': 'Gia hạn' }\n    ]\n  }),\n  computed: {\n    ...mapGetters(['isFetchingApi']),\n    ...mapGetters('Employee', ['employeeAll']),\n    // map filter params\n    ...mapGetters('Contracts', ['filterParams']),\n    ...mapFields('Contracts', {\n      titleFilter: 'params.q',\n      employeeFilter: 'params.employeeId',\n      typeFilter: 'params.type',\n      statusFilter: 'params.status',\n      dateSignFilter: 'params.dateSign',\n      dateExpirationFilter: 'params.dateExpiration'\n    })\n  },\n  methods: {\n    ...mapActions(['fetchApi']),\n    ...mapActions('Dataview', ['removeDataviewEntry']),\n    ...mapActions('Contracts', ['deleteContract', 'getContract']),\n    ...mapActions('Employee', ['getEmployees']),\n    resetEmployee () {\n      this.getEmployees({ params: { limit: 10 } })\n    },\n    clearAll () {\n      this.titleFilter = ''\n      this.employeeFilter = ''\n      this.typeFilter = ''\n      this.statusFilter = ''\n      this.dateSignFilter = ''\n      this.dateExpirationFilter = ''\n      this.resetEmployee()\n      this.filter()\n    },\n    // Passes 2 parameters to item text selectbox\n    twoparams (item) {\n      return item.name + ' - ' + item.phone\n    },\n    // open dialog\n    openDialog () {\n      this.dialog = true\n    },\n    close () {\n      this.dialog = false\n    },\n    onDateRangeChange (range) {\n      this.range = range\n      this.dateRangeOptions.presets[1].range[0] = format(range[0], 'YYYY-MM-DD')\n      this.dateRangeOptions.presets[1].range[1] = format(subMonths(range[0], -2), 'YYYY-MM-DD')\n      this.dateRangeOptions.presets[2].range[0] = format(range[0], 'YYYY-MM-DD')\n      this.dateRangeOptions.presets[2].range[1] = format(subMonths(range[0], -6), 'YYYY-MM-DD')\n      this.dateRangeOptions.presets[3].range[0] = format(range[0], 'YYYY-MM-DD')\n      this.dateRangeOptions.presets[3].range[1] = format(subMonths(range[0], -12), 'YYYY-MM-DD')\n    },\n    submitDate () {\n      if (this.range[0] === undefined || this.range[1] === undefined) {\n        this.range[0] = this.dateRangeOptions.startDate\n        this.range[1] = this.dateRangeOptions.endDate\n      } else {\n        this.dateSignFilter = this.range[0]\n        this.dateExpirationFilter = this.range[1]\n      }\n      this.date = 'Từ ngày ' + this.range[0]\n      this.date += ' đến ngày ' + this.range[1]\n      this.dialog = false\n      this.changeSearch()\n    },\n    // screach api employee\n    sreachEmployeeList: debounce(function (value) {\n      this.getEmployees({\n        params: { q: value.target.value, limit: 10 }\n      })\n      this.isLoadingEmployeeList = true\n      setTimeout(() => {\n        this.isLoadingEmployeeList = false\n      }, 1000)\n    }, 500),\n    // deteail contract\n    contractDetail (contract) {\n      this.getContract({ contractId: contract.id })\n      this.$router.push({ name: 'contract-detail', params: { id: contract.id } })\n    },\n    // create contract\n    createContract () {\n      // this.getEmployees({ params: { limit: 10 } })\n      this.$router.push({ name: 'contract-create' })\n    },\n    // edit contract\n    editContract (item) {\n      this.getContract({ params: { include: 'employee' }, contractId: item.id })\n      this.getEmployees({ params: { q: item.employee_name } })\n      this.$router.push({ name: 'contract-edit', params: { id: item.id } })\n    },\n    /// screach\n    changeSearch: debounce(function () {\n      this.filter()\n      if (this.$route.params.id) {\n        /// khi titlefilter detail ==0 thi clear  title\n        if (this.titleFilter.length === 0) {\n          this.titleFilter = ''\n        } else {\n          console.log('khong co gia tri')\n        }\n      }\n    }, 500),\n    filter () {\n      this.$refs[this.dataViewName].$emit('reload')\n    },\n    /// / reset screach\n    resetSreach: debounce(function () {\n      this.dateSignFilter = ''\n      this.dateExpirationFilter = ''\n      this.filter()\n      // khi click vao dau x trang detail thi clear het\n      if (this.$route.params.id) {\n        this.titleFilter = ''\n        this.employeeFilter = ''\n        this.typeFilter = ''\n        this.statusFilter = ''\n        this.dateSignFilter = ''\n        this.dateExpirationFilter = ''\n      }\n    }, 100),\n    removeConfirm (item) {\n      this.dataContracts = item\n      this.idContract = item.id\n      this.dialogDelete = true\n    },\n    remove (confirm) {\n      if (confirm) {\n        this.deleteContract({\n          id: this.idContract,\n          cb: (response) => {\n            this.removeDataviewEntry({\n              name: 'contract',\n              data: this.dataContracts,\n              key: 'id'\n            })\n            this.$store.dispatch('showNotify', {\n              text: this.$t('alert.delete-contract'),\n              color: 'success'\n            })\n            this.dialogDelete = false\n          },\n          error: (error) => {\n            if (error.status === 404) {\n              this.$store.dispatch('showNotify', {\n                text: this.$t('alert.not-found'),\n                color: 'warning'\n              })\n            }\n          }\n        })\n      }\n    }\n  },\n\n  mounted () {\n    // mặc định lấy 10 bản ghi\n    if (!this.employeeAll.length) {\n      this.getEmployees({ params: { limit: 10 } })\n    }\n    // dataviewhieght của trang contract detail\n    if (this.$route.params.id) {\n      this.dataViewHeight = this.$refs.laylout.clientHeight - 60\n    } else {\n    // dataviewhieght của trang listting\n      this.dataViewHeight = this.$refs.laylout.clientHeight - 120\n    }\n\n    let query = { ...this.$route.query }\n    if (query.hasOwnProperty('reload')) {\n      this.$nextTick(() => {\n        this.$refs[this.dataViewName].$emit('reload')\n      })\n      delete query.reload\n      this.$router.replace({\n        query: query\n      })\n    }\n  }\n}\n</script>\n<style type=\"text/css\" media=\"screen\" scoped>\n  .v-input.v-text-field{\n   margin-top: 4px;\n }\n.v-select.v-select--chips .v-select__selections{\n    min-height: 30px !important;\n }\n .paddTop-10{\n   padding-top: 10px;\n }\n .paddRight-10{\n   padding-right: 10px;\n }\n .padd-4{\n  padding: 4px;\n }\n @media (min-width: 960px){\n  .padd-4{\n    padding: 8px;\n  }\n  .paddLef-3{\n     padding-left: 3px;\n  }\n }\n @media (min-width: 600px){\n    .display{\n       display: block !important;\n    }\n    .paddLef-3{\n      padding-right: 4px !important;\n    }\n    .marRight-4{\n      margin-right: 0px !important;\n    }\n }\n @media (min-width: 250px){\n    .display{\n        display: none;\n    }\n    .marRight-4{\n      margin-right: 4px;\n    }\n  .marLeft-3{\n     margin-left: 3px;\n  }\n}\n\n</style>\n"],"sourceRoot":"src/views/contracts"}]}