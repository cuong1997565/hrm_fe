{"remainingRequest":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js!/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nguyenxuancuong/Sites/hrm_fe/src/views/department/Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nguyenxuancuong/Sites/hrm_fe/src/views/department/Form.vue","mtime":1539008740381},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/cache-loader/dist/cjs.js","mtime":1538403001796},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters, mapActions } from 'vuex';\nexport default {\n  name: 'DepartmentForm',\n  computed: _objectSpread({}, mapGetters(['isFetchingApi']), mapGetters('Branch', ['branchAll']), {\n    isCreate: function isCreate() {\n      return this.type === 'create';\n    }\n  }),\n  props: {\n    type: {\n      type: String,\n      default: 'create'\n    },\n    dataDepartment: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    return {\n      menu: false,\n      department: {\n        name: '',\n        status: '',\n        branch_id: '',\n        branch: {\n          data: {\n            id: ''\n          }\n        }\n      },\n      items: [{\n        'id': '',\n        'name': '-- Su lua chon ---'\n      }, {\n        'id': 1,\n        'name': 'Hiển thị'\n      }, {\n        'id': 0,\n        'name': 'Không hiển thị'\n      }]\n    };\n  },\n  methods: _objectSpread({}, mapActions(['fetchApi']), mapActions('Branch', ['getBranch']), {\n    setInitData: function setInitData() {\n      var dataDepartment = _objectSpread({}, this.dataDepartment);\n\n      this.department = _objectSpread({}, this.department, dataDepartment);\n    },\n    validateBeforeSubmit: function validateBeforeSubmit() {\n      var _this = this;\n\n      this.$validator.validateAll().then(function (result) {\n        if (result) {\n          _this.$emit('submit', _this.department);\n        } else {\n          _this.$store.dispatch('showNotify', {\n            text: _this.$t('alert.invalid'),\n            color: 'warning'\n          });\n        }\n      });\n    }\n  }),\n  created: function created() {\n    this.getBranch();\n    !!this.dataDepartment && this.setInitData();\n  }\n};",{"version":3,"sources":["Form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,QAAA,gBADA;AAEA,8BACA,WAAA,CAAA,eAAA,CAAA,CADA,EAEA,WAAA,QAAA,EAAA,CAAA,WAAA,CAAA,CAFA;AAGA,YAHA,sBAGA;AACA,aAAA,KAAA,IAAA,KAAA,QAAA;AACA;AALA,IAFA;AASA,SAAA;AACA,UAAA;AACA,YAAA,MADA;AAEA,eAAA;AAFA,KADA;AAKA,oBAAA;AACA,YAAA,MADA;AAEA,eAAA,oBAAA;AACA,eAAA,EAAA;AACA;AAJA;AALA,GATA;AAqBA,MArBA,kBAqBA;AACA,WAAA;AACA,YAAA,KADA;AAEA,kBAAA;AACA,cAAA,EADA;AAEA,gBAAA,EAFA;AAGA,mBAAA,EAHA;AAIA,gBAAA;AACA,gBAAA;AACA,gBAAA;AADA;AADA;AAJA,OAFA;AAaA,aAAA,CACA;AACA,cAAA,EADA;AAEA,gBAAA;AAFA,OADA,EAKA;AACA,cAAA,CADA;AAEA,gBAAA;AAFA,OALA,EASA;AACA,cAAA,CADA;AAEA,gBAAA;AAFA,OATA;AAbA,KAAA;AA6BA,GAnDA;AAqDA,6BACA,WAAA,CAAA,UAAA,CAAA,CADA,EAEA,WAAA,QAAA,EAAA,CAAA,WAAA,CAAA,CAFA;AAGA,eAHA,yBAGA;AACA,UAAA,mCAAA,KAAA,cAAA,CAAA;;AACA,WAAA,UAAA,qBAAA,KAAA,UAAA,EAAA,cAAA;AACA,KANA;AAOA,wBAPA,kCAOA;AAAA;;AACA,WAAA,UAAA,CAAA,WAAA,GAAA,IAAA,CAAA,kBAAA;AACA,YAAA,MAAA,EAAA;AACA,gBAAA,KAAA,CAAA,QAAA,EAAA,MAAA,UAAA;AACA,SAFA,MAEA;AACA,gBAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA;AACA,kBAAA,MAAA,EAAA,CAAA,eAAA,CADA;AAEA,mBAAA;AAFA,WAAA;AAIA;AACA,OATA;AAUA;AAlBA,IArDA;AA0EA,SA1EA,qBA0EA;AACA,SAAA,SAAA;AACA,KAAA,CAAA,KAAA,cAAA,IAAA,KAAA,WAAA,EAAA;AACA;AA7EA,CAAA","sourcesContent":["<template>\n  <v-form  @submit.prevent=\"validateBeforeSubmit\">\n     <v-container fluid>\n        <v-layout row wrap>\n         <v-flex xs12>\n            <v-text-field\n              :error-messages=\"errors.has('name') ? errors.collect('name') : []\"\n              v-validate=\"'required|min:3'\"\n              :data-vv-as=\"$t('label.name')\"\n              name=\"name\"\n              :label=\"$t('label.name') + '*'\"\n              v-model=\"department.name\">\n            </v-text-field>\n          </v-flex>\n\n            <v-flex xs12>\n               <v-select v-validate=\"'required'\"\n              :error-messages=\"errors.has('status') ? errors.collect('status') : []\"\n               :data-vv-as=\"$t('label.status')\" name=\"status\" :label=\"$t('label.status')\"\n                v-model=\"department.status\" :items=\"items\" item-value=\"id\" item-text=\"name\">\n              </v-select>\n          </v-flex>\n          <v-flex xs12>\n            <v-select v-validate=\"'required'\"\n                :error-messages=\"errors.has('branch_id') ? errors.collect('branch_id') : []\"\n                :data-vv-as=\"$t('label.branch_id')\"\n                name=\"branch_id\"\n                v-model=\"department.branch_id\"\n                 :label=\"$t('label.branch_id')\"\n                 :items=\"branchAll\"\n                 v-if=\"Array.isArray(branchAll)\"\n                 item-value=\"id\"\n                 item-text=\"name\"\n                 placeholder=\"Xin vui lòng nhập vào chi nhánh \"\n                 >\n          </v-select>\n          </v-flex>\n         <v-flex xs12 text-xs-center>\n          <v-btn\n            :loading=\"isFetchingApi\"\n            :disabled=\"isFetchingApi\"\n            color=\"primary\"\n            type=\"submit\"\n          >\n            <template v-if=\"isCreate\">\n              <v-icon left>add</v-icon> {{$t('control.create')}}\n            </template>\n            <template v-else>\n              <v-icon left>save</v-icon> {{$t('control.save')}}\n            </template>\n         </v-btn>\n         </v-flex>\n\n        </v-layout>\n     </v-container>\n  </v-form>\n</template>\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nexport default{\n  name: 'DepartmentForm',\n  computed: {\n    ...mapGetters(['isFetchingApi']),\n    ...mapGetters('Branch', ['branchAll']),\n    isCreate () {\n      return this.type === 'create'\n    }\n  },\n  props: {\n    type: {\n      type: String,\n      default: 'create'\n    },\n    dataDepartment: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    }\n  },\n  data () {\n    return {\n      menu: false,\n      department: {\n        name: '',\n        status: '',\n        branch_id: '',\n        branch: {\n          data: {\n            id: ''\n          }\n        }\n      },\n\n      items: [\n        {\n          'id': '',\n          'name': '-- Su lua chon ---'\n        },\n        {\n          'id': 1,\n          'name': 'Hiển thị'\n        },\n        {\n          'id': 0,\n          'name': 'Không hiển thị'\n        }\n      ]\n\n    }\n  },\n\n  methods: {\n    ...mapActions(['fetchApi']),\n    ...mapActions('Branch', ['getBranch']),\n    setInitData () {\n      let dataDepartment = { ...this.dataDepartment }\n      this.department = { ...this.department, ...dataDepartment }\n    },\n    validateBeforeSubmit () {\n      this.$validator.validateAll().then(result => {\n        if (result) {\n          this.$emit('submit', this.department)\n        } else {\n          this.$store.dispatch('showNotify', {\n            text: this.$t('alert.invalid'),\n            color: 'warning'\n          })\n        }\n      })\n    }\n  },\n\n  created () {\n    this.getBranch()\n    !!this.dataDepartment && this.setInitData()\n  }\n}\n</script>\n"],"sourceRoot":"src/views/department"}]}