{"remainingRequest":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nguyenxuancuong/Sites/hrm_fe/src/views/candidate/Form.vue?vue&type=style&index=0&id=051ed28a&scoped=true&lang=css&","dependencies":[{"path":"/home/nguyenxuancuong/Sites/hrm_fe/src/views/candidate/Form.vue","mtime":1539654458295},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/cache-loader/dist/cjs.js","mtime":1538403001796},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.marTop-22{\n  margin-top: -22px !important;\n}\n",{"version":3,"sources":["Form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0VA;AACA;AACA","file":"Form.vue","sourceRoot":"src/views/candidate","sourcesContent":["<template>\n  <v-form  @submit.prevent=\"validateBeforeSubmit\">\n    <v-container fluid>\n      <v-layout row wrap class=\"marTop-22\">\n          <v-flex xs6>\n            <v-text-field\n              :error-messages=\"errors.has('name') ? errors.collect('name') : []\"\n              v-validate=\"'required|min:3'\"\n              :data-vv-as=\"$t('label.name')\"\n              name=\"name\"\n              placeholder=\"Xin vui lòng nhập tên\"\n              :label=\"$t('label.name')\"\n              class=\"input-required\"\n              autofocus=\"autofocus\"\n              v-model=\"candidate.name\">\n            </v-text-field>\n          </v-flex>\n          <v-flex xs6>\n            <v-text-field\n              :error-messages=\"errors.has('email') ? errors.collect('email') : []\"\n              v-validate=\"'required|min:3'\"\n              :data-vv-as=\"$t('label.email')\"\n              placeholder=\"Xin vui lòng nhập email\"\n              name=\"email\"\n              :label=\"$t('label.email')\"\n              class=\"input-required\"\n              v-model=\"candidate.email\">\n            </v-text-field>\n          </v-flex>\n      </v-layout>\n\n      <v-layout row wrap class=\"marTop-22\">\n          <v-flex xs6>\n            <v-text-field\n              :error-messages=\"errors.has('phone') ? errors.collect('phone') : []\"\n              v-validate=\"'required|numeric|min:9|max:12'\"\n              :data-vv-as=\"$t('label.phone')\"\n              name=\"phone\"\n              class=\"input-required\"\n              placeholder=\"Xin vui lòng nhập số điện thoại\"\n              :label=\"$t('label.phone')\"\n              v-model=\"candidate.phone\">\n            </v-text-field>\n          </v-flex>\n          <v-flex xs6>\n            <v-text-field\n              :error-messages=\"errors.has('source') ? errors.collect('source') : []\"\n              v-validate=\"'required|min:3'\"\n              class=\"input-required\"\n              :data-vv-as=\"$t('label.source')\"\n              name=\"source\"\n              placeholder=\"Chọn source\"\n              :label=\"$t('label.source')\"\n              v-model=\"candidate.source\">\n            </v-text-field>\n          </v-flex>\n      </v-layout>\n      <v-layout row wrap class=\"marTop-22\">\n        <v-flex xs6>\n           <v-autocomplete\n             v-validate=\"'required'\"\n             :error-messages=\"errors.has('plan_id') ? errors.collect('plan_id') : []\"\n             :data-vv-as=\"$t('label.plan_id')\"\n             name=\"plan_id\"\n             :label=\"$t('label.plan_id')\"\n             placeholder=\"Xin vui lòng chọn kế hoạch tuyển dụng\"\n             :items=\"plans\"\n             item-value=\"id\"\n             class=\"input-required\"\n             item-text=\"title\"\n             v-model=\"candidate.plan_id\"\n           >\n           </v-autocomplete>\n        </v-flex>\n        <v-flex xs6>\n          <v-autocomplete\n            v-validate=\"'required'\"\n            :error-messages=\"errors.has('position_id') ? errors.collect('position_id') : []\"\n            :data-vv-as=\"$t('label.position_id')\"\n            placeholder=\"Xin vui lòng chọn vị trí ứng tuyển\"\n            name=\"position_id\"\n            :label=\"$t('label.position_id')\"\n            :items=\"positions\"\n            class=\"input-required\"\n            item-value=\"id\"\n            item-text=\"name\"\n            v-model=\"candidate.position_id\"\n          >\n          </v-autocomplete>\n        </v-flex>\n      </v-layout>\n\n      <v-layout row wrap class=\"marTop-22\">\n        <v-flex xs6>\n         <!--  <template>\n            <v-menu\n              ref=\"dateApply\"\n              :close-on-content-click=\"false\"\n              v-model=\"dateApply\"\n              :nudge-right=\"40\"\n              lazy transition=\"scale-transition\"\n              offset-y\n              full-width\n              min-width=\"290px\">\n              <v-text-field\n                slot=\"activator\"\n                placeholder=\"Chọn ngày nộp đơn\"\n                v-model=\"candidate.date_apply\"\n                label=\"Ngày nộp đơn\"\n                readonly >\n              </v-text-field>\n              <v-date-picker\n                ref=\"picker\"\n                v-model=\"candidate.date_apply\"\n                :max=\"new Date().toISOString().substr(0, 10)\"\n                min=\"1950-01-01\"\n                @change=\"save\">\n              </v-date-picker>\n            </v-menu>\n          </template> -->\n             <v-menu\n      ref=\"dateApply\"\n      :close-on-content-click=\"false\"\n      v-model=\"dateApply\"\n      :nudge-right=\"40\"\n      :return-value.sync=\"candidate.date_apply\"\n      lazy\n      transition=\"scale-transition\"\n      offset-y\n      full-width\n      min-width=\"290px\"\n      >\n      <v-text-field\n      slot=\"activator\"\n      v-model=\"candidate.date_apply\"\n      label=\"Chọn ngày nộp đơn\"\n      readonly\n      ></v-text-field>\n      <v-date-picker v-model=\"candidate.date_apply\" no-title scrollable>\n        <v-spacer></v-spacer>\n        <v-btn flat color=\"primary\" @click=\"dateApply = false\">Cancel</v-btn>\n        <v-btn flat color=\"primary\" @click=\"$refs.dateApply.save(candidate.date_apply)\">OK</v-btn>\n      </v-date-picker>\n    </v-menu>\n        </v-flex>\n        <v-flex xs6>\n          <v-datetime-picker\n            label=\"Thời gian phỏng vấn\"\n            placeholder=\"Chọn thời gian phỏng vấn\"\n            v-model=\"candidate.time_interview\">\n        </v-datetime-picker>\n      </v-flex>\n    </v-layout>\n    <v-layout row wrap class=\"marTop-22\">\n        <v-flex xs6>\n           <v-select\n            :items=\"status\"\n            v-model=\"candidate.status\"\n            item-text=\"name\"\n            item-value=\"id\"\n             name=\"status\"\n            :label=\"$t('label.status')\"\n          ></v-select>\n        </v-flex>\n    </v-layout>\n    <v-flex xs12 text-xs-center>\n      <v-btn\n      :loading=\"isFetchingApi\"\n      :disabled=\"isFetchingApi\"\n      color=\"primary\"\n      type=\"submit\"\n      >\n      <template v-if=\"isCreate\">\n        <v-icon left>add</v-icon> {{$t('control.create')}}\n      </template>\n      <template v-else>\n        <v-icon left>save</v-icon> {{$t('control.save')}}\n      </template>\n    </v-btn>\n  </v-flex>\n\n</v-container>\n</v-form>\n</template>\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nexport default{\n  name: 'CandidateForm',\n  computed: {\n    ...mapGetters(['isFetchingApi']),\n    ...mapGetters('Position', ['positionAll']),\n    ...mapGetters('Plan', ['planAll']),\n    isCreate () {\n      return this.type === 'create'\n    }\n  },\n  props: {\n    type: {\n      type: String,\n      default: 'create'\n    },\n    dataCandidate: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    }\n  },\n  data () {\n    return {\n      menu: null,\n      menu1: null,\n      plans: [],\n      dateApply: false,\n      positions: [],\n      candidate: {\n        name: '',\n        email: '',\n        phone: '',\n        source: '',\n        date_apply: '',\n        time_interview: '',\n        plan_id: '',\n        position_id: '',\n        status: 0\n      },\n      status: [\n        {\n          'id': 0,\n          'name': 'Mới'\n        },\n        {\n          'id': 1,\n          'name': 'Chờ kết quả'\n        },\n        {\n          'id': 2,\n          'name': 'Trượt'\n        },\n        {\n          'id': 3,\n          'name': 'Đỗ'\n        },\n        {\n          'id': 4,\n          'name': 'Danh sách đen'\n        }\n      ]\n    }\n  },\n  watch: {\n    // dateApply (val) {\n    //   val && this.$nextTick(() => (this.$refs.picker.activePicker = 'YEAR'))\n    // },\n    dataCandidate () {\n      this.setInitData()\n    },\n    menu1 (val) {\n      val && this.$nextTick(() => (this.$refs.picker.activePicker = 'YEAR'))\n    }\n  },\n  mounted () {\n    !!this.dataCandidate && this.setInitData()\n    // fetch api plans\n    this.fetchApi({\n      url: 'plans',\n      method: 'GET',\n      params: {\n        limit: -1\n      },\n      success: (response) => {\n        this.plans = response.data\n      }\n    })\n    this.fetchApi({\n      url: 'positions',\n      method: 'GET',\n      params: {\n        limit: -1\n      },\n      success: (response) => {\n        this.positions = response.data\n      }\n    })\n  },\n  methods: {\n    ...mapActions(['fetchApi']),\n    ...mapActions('Position', ['fetchPosition']),\n    ...mapActions('Plan', ['fetchPlan']),\n    setInitData () {\n      this.candidate = { ...this.candidate, ...this.dataCandidate }\n    },\n    validateBeforeSubmit () {\n      this.$validator.validateAll().then(result => {\n        if (result) {\n          this.$emit('submit', this.candidate)\n        } else {\n          this.$store.dispatch('showNotify', {\n            text: this.$t('alert.invalid'),\n            color: 'warning'\n          })\n        }\n      })\n    },\n    save (date) {\n      this.$refs.dateApply.save(date)\n    },\n    dateCandidate () {\n      let today = new Date()\n      let dd = today.getDate()\n      let mm = today.getMonth() + 1\n      let yyyy = today.getFullYear()\n      if (dd < 10) {\n        dd = '0' + dd\n      }\n      if (mm < 10) {\n        mm = '0' + mm\n      }\n      today = yyyy + '-' + mm + '-' + dd\n      this.candidate.date_apply = today\n    },\n    // thời gian kết thúc hợp đồng\n    dateExpirationCandidate () {\n      let today = new Date()\n      let dd = today.getDate()\n      let mm = today.getMonth() + 3\n      let yyyy = today.getFullYear()\n      if (dd < 10) {\n        dd = '0' + dd\n      }\n      if (mm < 10) {\n        mm = '0' + mm\n      }\n      today = yyyy + '-' + mm + '-' + dd\n      this.candidate.date_apply = today\n    }\n  },\n  created () {\n    this.fetchPosition()\n    this.fetchPlan()\n    this.dateCandidate()\n    this.dateExpirationCandidate()\n  }\n}\n</script>\n<style scoped>\n  .marTop-22{\n    margin-top: -22px !important;\n  }\n</style>\n"]}]}