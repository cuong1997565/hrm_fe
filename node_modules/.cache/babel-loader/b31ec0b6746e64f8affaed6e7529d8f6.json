{"remainingRequest":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js!/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nguyenxuancuong/Sites/hrm_fe/src/views/account/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nguyenxuancuong/Sites/hrm_fe/src/views/account/Register.vue","mtime":1538377839386},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/cache-loader/dist/cjs.js","mtime":1534394480737},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js","mtime":1534394476611},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js","mtime":1536410629618}],"contextDependencies":[],"result":["import _objectSpread from \"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  name: 'Register',\n  data: function data() {\n    return {\n      register: {\n        name: '',\n        company_name: '',\n        phone: '',\n        email: '',\n        password: '',\n        password_confirmation: ''\n      },\n      showPassword: false,\n      showPasswordConfirmation: false\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['isFetchingApi'])),\n  methods: _objectSpread({}, mapActions(['fetchApi', 'setLogged', 'getProfile']), {\n    validateBeforeSubmit: function validateBeforeSubmit() {\n      var _this = this;\n\n      this.$validator.validateAll().then(function (result) {\n        if (result) {\n          _this.fetchApi({\n            baseURL: process.env.VUE_APP_API_URL,\n            url: 'register',\n            method: 'post',\n            data: _this.register,\n            success: _this.loggedSuccess\n          });\n        } else {\n          _this.$store.dispatch('showNotify', {\n            text: 'Vui lòng kiểm tra các trường cần nhập!',\n            color: 'warning'\n          });\n        }\n      });\n    },\n    loggedSuccess: function loggedSuccess(response) {\n      this.setLogged(response);\n      this.getProfile({\n        params: {\n          include: 'roles'\n        }\n      });\n      this.$store.dispatch('showNotify', {\n        text: 'Đăng ký thành công!',\n        color: 'success'\n      });\n\n      if (this.$route.query.redirect) {\n        this.$router.push(this.$route.query.redirect);\n      } else {\n        this.$router.push({\n          name: 'home'\n        });\n      }\n    }\n  }),\n  mounted: function mounted() {}\n};",{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,QAAA,UADA;AAEA,MAFA,kBAEA;AACA,WAAA;AACA,gBAAA;AACA,cAAA,EADA;AAEA,sBAAA,EAFA;AAGA,eAAA,EAHA;AAIA,eAAA,EAJA;AAKA,kBAAA,EALA;AAMA,+BAAA;AANA,OADA;AASA,oBAAA,KATA;AAUA,gCAAA;AAVA,KAAA;AAYA,GAfA;AAgBA,8BACA,WAAA,CAAA,eAAA,CAAA,CADA,CAhBA;AAmBA,6BACA,WAAA,CAAA,UAAA,EAAA,WAAA,EAAA,YAAA,CAAA,CADA;AAEA,wBAFA,kCAEA;AAAA;;AACA,WAAA,UAAA,CAAA,WAAA,GAAA,IAAA,CAAA,kBAAA;AACA,YAAA,MAAA,EAAA;AACA,gBAAA,QAAA,CAAA;AACA,qBAAA,QAAA,GAAA,CAAA,eADA;AAEA,iBAAA,UAFA;AAGA,oBAAA,MAHA;AAIA,kBAAA,MAAA,QAJA;AAKA,qBAAA,MAAA;AALA,WAAA;AAOA,SARA,MAQA;AACA,gBAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA;AACA,kBAAA,wCADA;AAEA,mBAAA;AAFA,WAAA;AAIA;AACA,OAfA;AAgBA,KAnBA;AAoBA,iBApBA,yBAoBA,QApBA,EAoBA;AACA,WAAA,SAAA,CAAA,QAAA;AACA,WAAA,UAAA,CAAA;AAAA,gBAAA;AAAA,mBAAA;AAAA;AAAA,OAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA;AACA,cAAA,qBADA;AAEA,eAAA;AAFA,OAAA;;AAIA,UAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA;AACA,OAFA,MAEA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA;AAAA,SAAA;AACA;AACA;AAhCA,IAnBA;AAqDA,SArDA,qBAqDA,CACA;AAtDA,CAAA","sourcesContent":["<template>\n  <v-form @submit.prevent=\"validateBeforeSubmit\">\n    <v-text-field\n      :error-messages=\"errors.has('name') ? errors.collect('name') : []\"\n      v-validate=\"'required|min:2|max:255'\"\n      data-vv-as=\"Họ tên\"\n      name=\"name\"\n      placeholder=\"Nguyễn Văn A\"\n      autocomplete=\"off\"\n      label=\"Họ tên *\"\n      v-model=\"register.name\">\n    </v-text-field>\n    <v-text-field\n      :error-messages=\"errors.has('company_name') ? errors.collect('company_name') : []\"\n      v-validate=\"'min:2|max:255'\"\n      data-vv-as=\"Tên công ty\"\n      placeholder=\"Gostore\"\n      autocomplete=\"off\"\n      name=\"company_name\"\n      label=\"Tên công ty\"\n      v-model=\"register.company_name\">\n    </v-text-field>\n    <v-text-field\n      :error-messages=\"errors.has('phone') ? errors.collect('phone') : []\"\n      v-validate=\"'min:8|max:12'\"\n      data-vv-as=\"Số điện thoại\"\n      placeholder=\"0123456789\"\n      type=\"tel\"\n      v-number-only\n      autocomplete=\"off\"\n      name=\"phone\"\n      label=\"Số điện thoại\"\n      v-model=\"register.phone\">\n    </v-text-field>\n    <v-text-field\n      :error-messages=\"errors.has('email') ? errors.collect('email') : []\"\n      v-validate=\"'required|email'\"\n      data-vv-as=\"Tài khoản\"\n      placeholder=\"example@gmail.com\"\n      type=\"email\"\n      autocomplete=\"off\"\n      name=\"email\"\n      label=\"Tài khoản *\"\n      v-model=\"register.email\">\n    </v-text-field>\n    <v-text-field\n      :error-messages=\"errors.has('password') ? errors.collect('password') : []\"\n      v-validate=\"'required|min:5'\"\n      data-vv-as=\"Mật khẩu\"\n      placeholder=\"......\"\n      autocomplete=\"off\"\n      :append-icon=\"showPassword ? 'visibility_off' : 'visibility'\"\n      :type=\"showPassword ? 'text' : 'password'\"\n      @click:append=\"showPassword = !showPassword\"\n      name=\"password\"\n      label=\"Mật khẩu *\"\n      v-model=\"register.password\">\n    </v-text-field>\n    <v-text-field\n      :error-messages=\"errors.has('password_confirmation') ? errors.collect('password_confirmation') : []\"\n      v-validate=\"'required|min:5|confirmed:password'\"\n      placeholder=\"......\"\n      autocomplete=\"off\"\n      :append-icon=\"showPasswordConfirmation ? 'visibility_off' : 'visibility'\"\n      :type=\"showPasswordConfirmation ? 'text' : 'password'\"\n      @click:append=\"showPasswordConfirmation = !showPasswordConfirmation\"\n      data-vv-as=\"Nhập lại mật khẩu\"\n      name=\"password_confirmation\"\n      label=\"Nhập lại mật khẩu\"\n      v-model=\"register.password_confirmation\">\n    </v-text-field>\n    <v-card-actions class=\"mt-3 mb-3\">\n      <v-btn\n        :loading=\"isFetchingApi\"\n        :disabled=\"isFetchingApi\"\n        color=\"primary\"\n        type=\"submit\"\n        block\n        >\n        Đăng ký\n      </v-btn>\n    </v-card-actions>\n  </v-form>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nexport default {\n  name: 'Register',\n  data () {\n    return {\n      register: {\n        name: '',\n        company_name: '',\n        phone: '',\n        email: '',\n        password: '',\n        password_confirmation: ''\n      },\n      showPassword: false,\n      showPasswordConfirmation: false\n    }\n  },\n  computed: {\n    ...mapGetters(['isFetchingApi'])\n  },\n  methods: {\n    ...mapActions(['fetchApi', 'setLogged', 'getProfile']),\n    validateBeforeSubmit () {\n      this.$validator.validateAll().then(result => {\n        if (result) {\n          this.fetchApi({\n            baseURL: process.env.VUE_APP_API_URL,\n            url: 'register',\n            method: 'post',\n            data: this.register,\n            success: this.loggedSuccess\n          })\n        } else {\n          this.$store.dispatch('showNotify', {\n            text: 'Vui lòng kiểm tra các trường cần nhập!',\n            color: 'warning'\n          })\n        }\n      })\n    },\n    loggedSuccess (response) {\n      this.setLogged(response)\n      this.getProfile({ params: { include: 'roles' } })\n      this.$store.dispatch('showNotify', {\n        text: 'Đăng ký thành công!',\n        color: 'success'\n      })\n      if (this.$route.query.redirect) {\n        this.$router.push(this.$route.query.redirect)\n      } else {\n        this.$router.push({ name: 'home' })\n      }\n    }\n  },\n  mounted () {\n  }\n}\n</script>\n\n<style lang=\"css\" scoped>\n</style>\n"],"sourceRoot":"src/views/account"}]}