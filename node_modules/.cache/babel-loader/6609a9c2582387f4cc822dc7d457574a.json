{"remainingRequest":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js!/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nguyenxuancuong/Sites/hrm_fe/src/views/contracts/Edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nguyenxuancuong/Sites/hrm_fe/src/views/contracts/Edit.vue","mtime":1541476737431},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/cache-loader/dist/cjs.js","mtime":1538403001796},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ContractForm from './Form';\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  name: 'EditContract',\n  components: {\n    ContractForm: ContractForm\n  },\n  data: function data() {\n    return {\n      dataViewHeight: 0\n    };\n  },\n  computed: _objectSpread({}, mapGetters('Contracts', ['contractDetail'])),\n  methods: _objectSpread({}, mapActions(['showNotify', 'setMiniDrawer']), mapActions('Contracts', ['updateContract', 'getContract', 'setContract']), mapActions('Dataview', ['updateDataviewEntry']), mapActions('Employee', ['getEmployees', 'getEmployeesForm']), {\n    ListtingContract: function ListtingContract() {\n      // this.getEmployees({ params: { limit: 10 } })\n      this.$router.push({\n        name: 'contract'\n      });\n    },\n    submitForm: function submitForm(formData) {\n      var _this = this;\n\n      this.updateContract({\n        id: this.$route.params.id,\n        contract: formData,\n        cb: function cb(response) {\n          _this.showNotify({\n            color: 'success',\n            text: _this.$t('alert.edit-contract')\n          });\n\n          _this.updateDataviewEntry({\n            name: 'contract',\n            data: response.data,\n            key: 'id'\n          }); // this.getEmployees({ params: { limit: 10 } })\n          // this.clearFilter()\n\n\n          _this.$router.push({\n            name: 'contract',\n            query: {\n              reload: true\n            }\n          });\n        }\n      });\n      console.log('form data :', formData);\n    }\n  }),\n  // watch: {\n  //   contractDetail (value) {\n  //     if (value.id) {\n  //       // this.getEmployees({ params: { q: value.employee_name, limit: 10 } })\n  //         this.getEmployeesForm({\n  //           params: { q: value.employee_name },\n  //           cb: (params) => {\n  //             // this.listtingEmployee = params\n  //             console.log(\"data form employee edit\", params)\n  //           }\n  //         })\n  //     }\n  //   }\n  // },\n  created: function created() {\n    this.setMiniDrawer(false);\n\n    if (!this.contractDetail.id) {\n      this.getContract({\n        params: {\n          include: 'employee'\n        },\n        contractId: this.$route.params.id\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.dataViewHeight = this.$refs.laylout.clientHeight - 48;\n  }\n};",{"version":3,"sources":["Edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA,OAAA,YAAA,MAAA,QAAA;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,QAAA,cADA;AAEA,cAAA;AACA;AADA,GAFA;AAMA,MANA,kBAMA;AACA,WAAA;AACA,sBAAA;AADA,KAAA;AAGA,GAVA;AAWA,8BACA,WAAA,WAAA,EAAA,CAAA,gBAAA,CAAA,CADA,CAXA;AAcA,6BACA,WAAA,CAAA,YAAA,EAAA,eAAA,CAAA,CADA,EAEA,WAAA,WAAA,EAAA,CAAA,gBAAA,EAAA,aAAA,EAAA,aAAA,CAAA,CAFA,EAGA,WAAA,UAAA,EAAA,CAAA,qBAAA,CAAA,CAHA,EAIA,WAAA,UAAA,EAAA,CAAA,cAAA,EAAA,kBAAA,CAAA,CAJA;AAKA,oBALA,8BAKA;AACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA;AAAA,OAAA;AACA,KARA;AASA,cATA,sBASA,QATA,EASA;AAAA;;AACA,WAAA,cAAA,CAAA;AACA,YAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EADA;AAEA,kBAAA,QAFA;AAGA,YAAA,YAAA,QAAA,EAAA;AACA,gBAAA,UAAA,CAAA;AACA,mBAAA,SADA;AAEA,kBAAA,MAAA,EAAA,CAAA,qBAAA;AAFA,WAAA;;AAIA,gBAAA,mBAAA,CAAA;AACA,kBAAA,UADA;AAEA,kBAAA,SAAA,IAFA;AAGA,iBAAA;AAHA,WAAA,EALA,CAUA;AACA;;;AACA,gBAAA,OAAA,CAAA,IAAA,CAAA;AACA,kBAAA,UADA;AAEA,mBAAA;AACA,sBAAA;AADA;AAFA,WAAA;AAMA;AArBA,OAAA;AAuBA,cAAA,GAAA,CAAA,aAAA,EAAA,QAAA;AACA;AAlCA,IAdA;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAjEA,qBAiEA;AACA,SAAA,aAAA,CAAA,KAAA;;AACA,QAAA,CAAA,KAAA,cAAA,CAAA,EAAA,EAAA;AACA,WAAA,WAAA,CAAA;AAAA,gBAAA;AAAA,mBAAA;AAAA,SAAA;AAAA,oBAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AAAA,OAAA;AACA;AACA,GAtEA;AAuEA,SAvEA,qBAuEA;AACA,SAAA,cAAA,GAAA,KAAA,KAAA,CAAA,OAAA,CAAA,YAAA,GAAA,EAAA;AACA;AAzEA,CAAA","sourcesContent":["<template>\n  <v-layout ref=\"laylout\" row fill-height>\n      <v-flex  xs12 class=\"border-e0-left white\">\n      <v-toolbar dense color=\"white\" flat>\n          <v-spacer></v-spacer>\n         <v-btn icon @click=\"ListtingContract\">\n          <v-icon>close</v-icon>\n        </v-btn>\n      </v-toolbar>\n      <v-container fluid class=\"white scroll-y border-e0-top\" :style=\"{height: dataViewHeight + 'px'}\">\n          <ContractForm v-if=\"contractDetail.id\" @submit=\"submitForm\" type=\"edit\" :dataContract=\"contractDetail\"/>\n      </v-container>\n      </v-flex>\n  </v-layout>\n</template>\n<script type=\"text/javascript\">\nimport ContractForm from './Form'\nimport { mapActions, mapGetters } from 'vuex'\nexport default{\n  name: 'EditContract',\n  components: {\n    ContractForm\n  },\n\n  data () {\n    return {\n      dataViewHeight: 0\n    }\n  },\n  computed: {\n    ...mapGetters('Contracts', ['contractDetail'])\n  },\n  methods: {\n    ...mapActions(['showNotify', 'setMiniDrawer']),\n    ...mapActions('Contracts', ['updateContract', 'getContract', 'setContract']),\n    ...mapActions('Dataview', ['updateDataviewEntry']),\n    ...mapActions('Employee', ['getEmployees', 'getEmployeesForm']),\n    ListtingContract () {\n      // this.getEmployees({ params: { limit: 10 } })\n      this.$router.push({ name: 'contract' })\n    },\n    submitForm (formData) {\n      this.updateContract({\n        id: this.$route.params.id,\n        contract: formData,\n        cb: (response) => {\n          this.showNotify({\n            color: 'success',\n            text: this.$t('alert.edit-contract')\n          })\n          this.updateDataviewEntry({\n            name: 'contract',\n            data: response.data,\n            key: 'id'\n          })\n          // this.getEmployees({ params: { limit: 10 } })\n          // this.clearFilter()\n          this.$router.push({\n            name: 'contract',\n            query: {\n              reload: true\n            }\n          })\n        }\n      })\n      console.log('form data :', formData)\n    }\n  },\n\n  // watch: {\n  //   contractDetail (value) {\n  //     if (value.id) {\n  //       // this.getEmployees({ params: { q: value.employee_name, limit: 10 } })\n  //         this.getEmployeesForm({\n  //           params: { q: value.employee_name },\n  //           cb: (params) => {\n  //             // this.listtingEmployee = params\n  //             console.log(\"data form employee edit\", params)\n  //           }\n  //         })\n  //     }\n  //   }\n  // },\n  created () {\n    this.setMiniDrawer(false)\n    if (!this.contractDetail.id) {\n      this.getContract({ params: { include: 'employee' }, contractId: this.$route.params.id })\n    }\n  },\n  mounted () {\n    this.dataViewHeight = this.$refs.laylout.clientHeight - 48\n  }\n}\n</script>\n"],"sourceRoot":"src/views/contracts"}]}