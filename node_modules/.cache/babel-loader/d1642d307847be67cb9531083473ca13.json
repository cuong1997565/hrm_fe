{"remainingRequest":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js!/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nguyenxuancuong/Sites/hrm_fe/src/views/branchHrm/Edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nguyenxuancuong/Sites/hrm_fe/src/views/branchHrm/Edit.vue","mtime":1543149736536},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/cache-loader/dist/cjs.js","mtime":1538403001796},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\nimport BranchForm from './Form';\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  name: 'EditBranch',\n  components: {\n    BranchForm: BranchForm\n  },\n  data: function data() {\n    return {\n      dataViewHeight: 0\n    };\n  },\n  computed: _objectSpread({}, mapGetters('Branch', ['branchDetail'])),\n  methods: _objectSpread({}, mapActions(['showNotify', 'setMiniDrawer']), mapActions('Branch', ['updateBranch', 'getBranch', 'setBranch', 'clearFilter']), mapActions('Dataview', ['updateDataviewEntry']), {\n    submitForm: function submitForm(formData) {\n      var _this = this;\n\n      this.clearFilter();\n      this.updateBranch({\n        id: this.$route.params.id,\n        branch: formData,\n        cb: function cb(response) {\n          _this.showNotify({\n            color: 'success',\n            text: _this.$t('alert.updateBranchSuccess')\n          });\n\n          _this.setBranch({\n            branch: response.data\n          });\n\n          _this.updateDataviewEntry({\n            name: 'branch',\n            data: response.data,\n            key: 'id'\n          });\n\n          _this.$router.push({\n            name: 'branch-hrm',\n            query: {\n              reload: true\n            }\n          });\n        },\n        error: function error(_error) {\n          //     // nếu có lỗi email, phone ở step 1 thì quay trở về step 1\n          if (_error.data.data.errors.email || _error.data.data.errors.phone) {\n            _this.$refs.nextStep.stepError();\n          }\n        }\n      });\n    }\n  }),\n  created: function created() {\n    this.getBranch({\n      branchId: this.$route.params.id\n    });\n  },\n  mounted: function mounted() {\n    this.dataViewHeight = this.$refs.laylout.clientHeight - 8;\n  }\n};",{"version":3,"sources":["Edit.vue"],"names":[],"mappings":";;;;;;;;AAQA,OAAA,UAAA,MAAA,QAAA;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,QAAA,YADA;AAEA,cAAA;AACA;AADA,GAFA;AAKA,MALA,kBAKA;AACA,WAAA;AACA,sBAAA;AADA,KAAA;AAGA,GATA;AAUA,8BACA,WAAA,QAAA,EAAA,CAAA,cAAA,CAAA,CADA,CAVA;AAaA,6BACA,WAAA,CAAA,YAAA,EAAA,eAAA,CAAA,CADA,EAEA,WAAA,QAAA,EAAA,CAAA,cAAA,EAAA,WAAA,EAAA,WAAA,EAAA,aAAA,CAAA,CAFA,EAGA,WAAA,UAAA,EAAA,CAAA,qBAAA,CAAA,CAHA;AAIA,cAJA,sBAIA,QAJA,EAIA;AAAA;;AACA,WAAA,WAAA;AACA,WAAA,YAAA,CAAA;AACA,YAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EADA;AAEA,gBAAA,QAFA;AAGA,YAAA,YAAA,QAAA,EAAA;AACA,gBAAA,UAAA,CAAA;AACA,mBAAA,SADA;AAEA,kBAAA,MAAA,EAAA,CAAA,2BAAA;AAFA,WAAA;;AAIA,gBAAA,SAAA,CAAA;AAAA,oBAAA,SAAA;AAAA,WAAA;;AACA,gBAAA,mBAAA,CAAA;AACA,kBAAA,QADA;AAEA,kBAAA,SAAA,IAFA;AAGA,iBAAA;AAHA,WAAA;;AAKA,gBAAA,OAAA,CAAA,IAAA,CAAA;AACA,kBAAA,YADA;AAEA,mBAAA;AAAA,sBAAA;AAAA;AAFA,WAAA;AAIA,SAlBA;AAmBA,eAAA,eAAA,MAAA,EAAA;AACA;AACA,cAAA,OAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,IAAA,OAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,EAAA;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,SAAA;AACA;AACA;AAxBA,OAAA;AA0BA;AAhCA,IAbA;AA+CA,SA/CA,qBA+CA;AACA,SAAA,SAAA,CAAA;AAAA,gBAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AAAA,KAAA;AACA,GAjDA;AAkDA,SAlDA,qBAkDA;AACA,SAAA,cAAA,GAAA,KAAA,KAAA,CAAA,OAAA,CAAA,YAAA,GAAA,CAAA;AACA;AApDA,CAAA","sourcesContent":["<template>\n  <v-layout ref=\"laylout\" row fill-height>\n    <v-flex fluid class=\"white scroll-y border-e0-top\" :style=\"{height: dataViewHeight + 'px'}\">\n      <branch-form ref=\"nextStep\" v-if=\"branchDetail.id\" @submit=\"submitForm\" type=\"edit\" :dataBranch=\"branchDetail\" />\n    </v-flex>\n  </v-layout>\n</template>\n<script>\nimport BranchForm from './Form'\nimport { mapActions, mapGetters } from 'vuex'\nexport default{\n  name: 'EditBranch',\n  components: {\n    BranchForm\n  },\n  data () {\n    return {\n      dataViewHeight: 0\n    }\n  },\n  computed: {\n    ...mapGetters('Branch', ['branchDetail'])\n  },\n  methods: {\n    ...mapActions(['showNotify', 'setMiniDrawer']),\n    ...mapActions('Branch', ['updateBranch', 'getBranch', 'setBranch', 'clearFilter']),\n    ...mapActions('Dataview', ['updateDataviewEntry']),\n    submitForm (formData) {\n      this.clearFilter()\n      this.updateBranch({\n        id: this.$route.params.id,\n        branch: formData,\n        cb: (response) => {\n          this.showNotify({\n            color: 'success',\n            text: this.$t('alert.updateBranchSuccess')\n          })\n          this.setBranch({ branch: response.data })\n          this.updateDataviewEntry({\n            name: 'branch',\n            data: response.data,\n            key: 'id'\n          })\n          this.$router.push({\n            name: 'branch-hrm',\n            query: { reload: true }\n          })\n        },\n        error: (error) => {\n          //     // nếu có lỗi email, phone ở step 1 thì quay trở về step 1\n          if (error.data.data.errors.email || error.data.data.errors.phone) {\n            this.$refs.nextStep.stepError()\n          }\n        }\n      })\n    }\n  },\n  created () {\n    this.getBranch({ branchId: this.$route.params.id })\n  },\n  mounted () {\n    this.dataViewHeight = this.$refs.laylout.clientHeight - 8\n  }\n}\n</script>\n"],"sourceRoot":"src/views/branchHrm"}]}