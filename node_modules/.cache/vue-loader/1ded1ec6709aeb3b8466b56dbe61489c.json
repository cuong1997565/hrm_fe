{"remainingRequest":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nguyenxuancuong/Sites/hrm_fe/src/views/branch/Form.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/nguyenxuancuong/Sites/hrm_fe/src/views/branch/Form.vue","mtime":1538377839386},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/css-loader/index.js","mtime":1534394480905},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1536410629618},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/postcss-loader/lib/index.js","mtime":1534394481185},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/cache-loader/dist/cjs.js","mtime":1534394480737},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js","mtime":1536410629618}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlabel{\n  color: #5b5a5a;\n  font-size:17px;\n}\n",{"version":3,"sources":["Form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoUA;AACA;AACA;AACA","file":"Form.vue","sourceRoot":"src/views/branch","sourcesContent":["<template>\n  <v-container>\n    <v-form @submit.prevent=\"validateBeforeSubmit\">\n      <v-tabs centered color=\"cyan\" dark icons-and-text md12>\n        <v-tabs-slider color=\"yellow\"></v-tabs-slider>\n        <!-- thông tin chi nhánh -->\n        <v-tab href=\"#tab-1\">\n          Thông tin chi nhánh\n          <v-icon>fas fa-info-circle</v-icon>\n        </v-tab>\n        <!-- Thông tin thêm -->\n        <v-tab href=\"#tab-2\">\n          Thông tin thêm\n          <v-icon>phone</v-icon>\n        </v-tab>\n        <!-- tab1 -->\n        <v-tab-item id=\"tab-1\" style=\"margin:30px 0px\">\n          <v-card flat row>\n            <!-- <h4>Thông tin chính</h4> -->\n            <v-layout>\n              <v-flex md6 xs6 style=\"margin-right:10px\">\n                <!-- name -->\n                <v-text-field\n                placeholder=\"Tên chi nhánh\"\n                :error-messages=\"errors.has('name') ? errors.collect('name') : []\"\n                v-validate=\"'required'\"\n                :data-vv-as=\"$t('label.name')\"\n                name=\"name\"\n                :label=\"$t('label.name') + '*'\"\n                v-model=\"branch.name\"> </v-text-field>\n                <!-- address -->\n                <v-text-field\n                placeholder=\"Nhập địa chỉ\"\n                :error-messages=\"errors.has('address') ? errors.collect('address') : []\"\n                :data-vv-as=\"$t('label.address')\"\n                name=\"address\"\n                v-validate=\"'required'\"\n                :label=\"$t('label.address') + '*'\"\n                v-model=\"branch.address\"> </v-text-field>\n                <!-- tax_number -->\n                <v-text-field\n                placeholder=\"Nhập mã số thuế\"\n                :error-messages=\"errors.has('tax_number') ? errors.collect('tax_number') : []\"\n                :data-vv-as=\"$t('label.tax_number')\"\n                name=\"tax_number\"\n                v-validate=\"'required'\"\n                :label=\"$t('label.tax_number') + '*'\"\n                v-model=\"branch.tax_number\"> </v-text-field>\n                <!-- status -->\n                <label>Trạng thái</label>\n                <v-checkbox\n                style=\"margin-top:0px\"\n                :label='status'\n                @change='statusBranch'\n                :error-messages=\"errors.has('status') ? errors.collect('status') : []\"\n                :data-vv-as=\"$t('label.status')\"\n                name=\"status\"\n                v-model=\"branch.status\"> </v-checkbox>\n              </v-flex>\n              <v-flex md6 xs6 style=\"margin-left:10px\">\n                <!-- city -->\n                <v-select\n                v-if=\"Array.isArray(cityAll)\"\n                v-validate=\"'required'\"\n                :error-messages=\"errors.has('city_id') ? errors.collect('city_id') : []\"\n                :data-vv-as=\"$t('label.city_id')\"\n                name=\"city_id\"\n                :label=\"$t('label.city_id') + '*'\"\n                v-model=\"branch.city_id\"\n                :items=\"cityAll\"\n                item-value=\"id\"\n                item-text=\"name\"\n                @change=\"changedCity\"\n                placeholder=\"Chọn một thành phố\" > </v-select>\n                <!-- district -->\n                <v-select\n                v-if=\"districtAll.districts.data\"\n                :disabled = \"!districtActive\"\n                v-validate=\"'required'\"\n                :error-messages=\"errors.has('district_id') ? errors.collect('district_id') : []\"\n                :data-vv-as=\"$t('label.district_id')\"\n                name=\"district_id\"\n                :label=\"$t('label.district_id')+ '*'\"\n                v-model=\"branch.district_id\"\n                :items=\"districtAll.districts.data\"\n                item-value=\"id\"\n                item-text=\"name\"\n                placeholder=\"Hãy chọn một quận hoặc huyện\"> </v-select>\n                <!-- email -->\n                <v-text-field\n                placeholder=\"Nhập email\"\n                :error-messages=\"errors.has('email') ? errors.collect('email') : []\"\n                :data-vv-as=\"$t('label.email')\"\n                name=\"email\"\n                v-validate=\"'required'\"\n                :label=\"$t('label.email') + '*'\"\n                v-model=\"branch.email\"> </v-text-field>\n                <!-- type_branch -->\n                <label>Thuộc loại</label>\n                <v-checkbox\n                @change=\"typeBranch\"\n                style=\"margin-top:0px\"\n                :label=\"type_branch\"\n                :error-messages=\"errors.has('type') ? errors.collect('type') : []\"\n                :data-vv-as=\"$t('label.type')\"\n                name=\"type\"\n                v-model=\"branch.type\"></v-checkbox>\n              </v-flex>\n            </v-layout>\n          </v-card>\n        </v-tab-item>\n        <!-- tab1 -->\n        <v-tab-item id=\"tab-2\" style=\"margin:30px 0px\">\n          <v-card flat row>\n            <v-layout>\n              <v-flex md6 xs6 style=\"margin-right:10px\">\n                <!-- phone -->\n                <v-text-field\n                placeholder=\"Nhập số điện thoại\"\n                :error-messages=\"errors.has('phone') ? errors.collect('phone') : []\"\n                :data-vv-as=\"$t('label.phone')\"\n                name=\"phone\"\n                :label=\"$t('label.phone')\"\n                v-model=\"branch.phone\"> </v-text-field>\n                <!-- facebook -->\n                <v-text-field\n                placeholder=\"Nhập link facebook\"\n                :error-messages=\"errors.has('facebook') ? errors.collect('facebook') : []\"\n                :data-vv-as=\"$t('label.facebook')\"\n                name=\"facebook\"\n                :label=\"$t('label.facebook') \"\n                v-model=\"branch.facebook\"> </v-text-field>\n                <!-- website -->\n                <v-text-field\n                placeholder=\"Nhập link website\"\n                :error-messages=\"errors.has('website') ? errors.collect('website') : []\"\n                :data-vv-as=\"$t('label.website')\"\n                name=\"website\"\n                :label=\"$t('label.website')\"\n                v-model=\"branch.website\"> </v-text-field>\n                <!-- description -->\n                <v-text-field\n                placeholder=\"Nhập mô tả\"\n                :error-messages=\"errors.has('description') ? errors.collect('description') : []\"\n                :data-vv-as=\"$t('label.description')\"\n                name=\"description\"\n                :label=\"$t('label.description')\"\n                v-model=\"branch.description\"> </v-text-field>\n              </v-flex>\n              <v-flex md6 xs6 style=\"margin-left:10px\">\n                <!-- about -->\n                <v-text-field\n                placeholder=\"Nhập thông tin\"\n                :error-messages=\"errors.has('about') ? errors.collect('about') : []\"\n                :data-vv-as=\"$t('label.about')\"\n                name=\"about\"\n                :label=\"$t('label.about')\"\n                v-model=\"branch.about\"> </v-text-field>\n                <!-- instagram -->\n                <v-text-field\n                placeholder=\"Nhập instagram\"\n                :error-messages=\"errors.has('instagram') ? errors.collect('instagram') : []\"\n                :data-vv-as=\"$t('label.instagram')\"\n                name=\"instagram\"\n                :label=\"$t('label.instagram')\"\n                v-model=\"branch.instagram\"> </v-text-field>\n                <!-- zalo -->\n                <v-text-field\n                placeholder=\"Nhập zalo\"\n                :error-messages=\"errors.has('zalo') ? errors.collect('zalo') : []\"\n                :data-vv-as=\"$t('label.zalo')\"\n                name=\"zalo\"\n                :label=\"$t('label.zalo')\"\n                v-model=\"branch.zalo\"> </v-text-field>\n                <!-- bank -->\n                <v-text-field\n                placeholder=\"Nhập tài khoản ngân hàng\"\n                :error-messages=\"errors.has('bank') ? errors.collect('bank') : []\"\n                :data-vv-as=\"$t('label.bank')\"\n                name=\"bank\"\n                :label=\"$t('label.bank')\"\n                v-model=\"branch.bank\"> </v-text-field>\n              </v-flex>\n            </v-layout>\n          </v-card>\n        </v-tab-item>\n      </v-tabs>\n      {{dataBranch}}\n      <v-flex xs12 text-xs-center>\n        <v-btn\n        :loading=\"isFetchingApi\"\n        :disabled=\"isFetchingApi\"\n        color=\"primary\"\n        type=\"submit\"\n        >\n        <template v-if=\"isCreate\">\n          <v-icon left>add</v-icon> {{$t('control.create')}}\n        </template>\n        <template v-else>\n          <v-icon left>save</v-icon> {{$t('control.save')}}\n        </template>\n      </v-btn>\n    </v-flex>\n  </v-form>\n</v-container>\n</template>\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nexport default{\n  name: 'BranchForm',\n  components: {\n    DataView\n  },\n  computed: {\n    ...mapGetters(['isFetchingApi']),\n    ...mapGetters('City', ['cityAll', 'districtByCity']),\n    isCreate () {\n      return this.type === 'create'\n    }\n  },\n  props: {\n    type: {\n      type: String,\n      default: 'create'\n    },\n    dataBranch: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    }\n  },\n  data () {\n    return {\n      districtActive: false,\n      type_branch: 'Chi nhánh Chính',\n      status: 'Hoạt động',\n      districtAll: {},\n      branch: {\n        name: '',\n        description: '',\n        about: '',\n        phone: '',\n        address: '',\n        website: '',\n        email: '',\n        facebook: '',\n        instagram: '',\n        zalo: '',\n        tax_number: '',\n        bank: '',\n        type: true,\n        city_id: '',\n        district_id: '',\n        status: true\n      }\n    }\n  },\n  watch: {\n    dataBranch (val) {\n      this.branch = val\n    }\n  },\n  methods: {\n    ...mapActions(['fetchApi']),\n    ...mapActions('City', ['getCity', 'getDistrictByCity']),\n    setInitData () {\n      let dataBranch = { ...this.dataBranch }\n      this.branch = { ...this.branch, ...dataBranch }\n    },\n    changedCity (value) {\n      this.districtActive = true\n      this.getDistrictByCity({\n        cityId: value,\n        cb: () => {\n          this.districtAll = this.districtByCity\n        }\n      })\n    },\n    statusBranch () {\n      if (this.branch.status) { this.status = 'Hoạt động' } else { this.status = 'Không hoạt động' }\n    },\n    typeBranch () {\n      if (this.branch.type) { this.type_branch = 'Chi nhánh chính' } else { this.type_branch = 'Chi nhánh phụ' }\n    },\n    validateBeforeSubmit () {\n      this.$validator.validateAll().then(result => {\n        if (result) {\n          let branch = Object.assign({}, this.branch)\n          branch.status = branch.status ? 1 : 0\n          branch.type = branch.type ? 1 : 0\n          this.$emit('submit', branch)\n        } else {\n          this.$store.dispatch('showNotify', {\n            text: this.$t('alert.invalid'),\n            color: 'warning'\n          })\n        }\n      })\n    }\n  },\n  created () {\n    !!this.dataBranch && this.setInitData()\n    if (this.$route.params.id) {\n      this.districtActive = true\n      this.getDistrictByCity({\n        cityId: this.dataBranch.city_id,\n        cb: () => {\n          this.districtAll = this.districtByCity\n        }\n      })\n    } else {\n      this.getDistrictByCity({\n        cityId: 1,\n        cb: () => {\n          this.districtAll = this.districtByCity\n        }\n      })\n    }\n    this.getCity()\n  }\n}\n</script>\n<style>\nlabel{\n  color: #5b5a5a;\n  font-size:17px;\n}\n</style>\n"]}]}