{"remainingRequest":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js!/home/nguyenxuancuong/Sites/hrm_fe/node_modules/eslint-loader/index.js??ref--13-0!/home/nguyenxuancuong/Sites/hrm_fe/src/router/index.js","dependencies":[{"path":"/home/nguyenxuancuong/Sites/hrm_fe/src/router/index.js","mtime":1542940100412},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/cache-loader/dist/cjs.js","mtime":1538403001796},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _typeof from \"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/@babel/runtime/helpers/builtin/es6/typeof\";\nimport _toConsumableArray from \"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/@babel/runtime/helpers/builtin/es6/toConsumableArray\";\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport ls from 'local-storage';\nimport i18n from '@/i18n'; // modules\n\nvar modules = {};\nimport _wcImport3 from \"./modules/non-auth.js\";\nmodules[\"NonAuth\"] = _wcImport3;\nimport _wcImport2 from \"./modules/errors.js\";\nmodules[\"Errors\"] = _wcImport2;\nimport _wcImport from \"./modules/auth.js\";\nmodules[\"Auth\"] = _wcImport;\nconsole.log(modules);\nVue.use(Router);\nvar router = new Router({\n  mode: 'history',\n  scrollBehavior: function scrollBehavior(to, from, savedPosition) {\n    if (to.hash) {\n      return {\n        selector: to.hash\n      };\n    } else {\n      return {\n        x: 0,\n        y: 0\n      };\n    }\n  },\n  routes: _toConsumableArray(Object.values(modules)).concat([{\n    path: '/*',\n    meta: {\n      title: '404-Trang không tồn tại'\n    },\n    name: 'notfound',\n    component: function component() {\n      return import('@/views/errors/404');\n    }\n  }])\n});\nrouter.beforeEach(function (to, from, next) {\n  document.title = itemTitle(to.meta);\n  var auth = ls('auth') || {};\n\n  if (to.matched.some(function (record) {\n    return record.meta.require_auth;\n  }) && !auth.access_token) {\n    next({\n      name: 'login',\n      query: {\n        redirect: to.fullPath\n      }\n    });\n  } else if (to.matched.some(function (record) {\n    return record.meta.guest && (record.name === 'login' || record.name === 'register');\n  }) && auth.access_token) {\n    next({\n      name: 'home'\n    });\n  } else {\n    next();\n  }\n});\n\nfunction itemTitle(item) {\n  if (_typeof(item.title) === 'object') {\n    return i18n.tc(item.title.i18n);\n  } else {\n    return item.title;\n  }\n}\n\nexport default router;",{"version":3,"sources":["/home/nguyenxuancuong/Sites/hrm_fe/src/router/index.js"],"names":["Vue","Router","ls","i18n","console","log","modules","use","router","mode","scrollBehavior","to","from","savedPosition","hash","selector","x","y","routes","Object","values","path","meta","title","name","component","beforeEach","next","document","itemTitle","auth","matched","some","record","require_auth","access_token","query","redirect","fullPath","guest","item","tc"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,EAAP,MAAe,eAAf;AACA,OAAOC,IAAP,MAAiB,QAAjB,C,CACA;;;;;;;;;AAEAC,QAAQC,GAAR,CAAYC,OAAZ;AACAN,IAAIO,GAAJ,CAAQN,MAAR;AAEA,IAAMO,SAAS,IAAIP,MAAJ,CAAW;AACxBQ,QAAM,SADkB;AAExBC,kBAAgB,wBAACC,EAAD,EAAKC,IAAL,EAAWC,aAAX,EAA6B;AAC3C,QAAIF,GAAGG,IAAP,EAAa;AACX,aAAO;AAAEC,kBAAUJ,GAAGG;AAAf,OAAP;AACD,KAFD,MAEO;AACL,aAAO;AAAEE,WAAG,CAAL;AAAQC,WAAG;AAAX,OAAP;AACD;AACF,GARuB;AASxBC,6BACKC,OAAOC,MAAP,CAAcd,OAAd,CADL,UAEE;AACEe,UAAM,IADR;AAEEC,UAAM;AACJC,aAAO;AADH,KAFR;AAKEC,UAAM,UALR;AAMEC,eAAW;AAAA,aAAM,OAAO,oBAAP,CAAN;AAAA;AANb,GAFF;AATwB,CAAX,CAAf;AAsBAjB,OAAOkB,UAAP,CAAkB,UAACf,EAAD,EAAKC,IAAL,EAAWe,IAAX,EAAoB;AACpCC,WAASL,KAAT,GAAiBM,UAAUlB,GAAGW,IAAb,CAAjB;AACA,MAAIQ,OAAO5B,GAAG,MAAH,KAAc,EAAzB;;AACA,MAAIS,GAAGoB,OAAH,CAAWC,IAAX,CAAgB;AAAA,WAAUC,OAAOX,IAAP,CAAYY,YAAtB;AAAA,GAAhB,KAAuD,CAACJ,KAAKK,YAAjE,EAA+E;AAC7ER,SAAK;AACHH,YAAM,OADH;AAEHY,aAAO;AAAEC,kBAAU1B,GAAG2B;AAAf;AAFJ,KAAL;AAID,GALD,MAKO,IAAI3B,GAAGoB,OAAH,CAAWC,IAAX,CAAgB;AAAA,WAAUC,OAAOX,IAAP,CAAYiB,KAAZ,KAAsBN,OAAOT,IAAP,KAAgB,OAAhB,IAA2BS,OAAOT,IAAP,KAAgB,UAAjE,CAAV;AAAA,GAAhB,KAA2GM,KAAKK,YAApH,EAAkI;AACvIR,SAAK;AACHH,YAAM;AADH,KAAL;AAGD,GAJM,MAIA;AACLG;AACD;AACF,CAfD;;AAiBA,SAASE,SAAT,CAAoBW,IAApB,EAA0B;AACxB,MAAI,QAAOA,KAAKjB,KAAZ,MAAsB,QAA1B,EAAoC;AAClC,WAAOpB,KAAKsC,EAAL,CAAQD,KAAKjB,KAAL,CAAWpB,IAAnB,CAAP;AACD,GAFD,MAEO;AACL,WAAOqC,KAAKjB,KAAZ;AACD;AACF;;AAED,eAAef,MAAf","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport ls from 'local-storage'\nimport i18n from '@/i18n'\n// modules\nimport * as modules from './modules'\nconsole.log(modules)\nVue.use(Router)\n\nconst router = new Router({\n  mode: 'history',\n  scrollBehavior: (to, from, savedPosition) => {\n    if (to.hash) {\n      return { selector: to.hash }\n    } else {\n      return { x: 0, y: 0 }\n    }\n  },\n  routes: [\n    ...Object.values(modules),\n    {\n      path: '/*',\n      meta: {\n        title: '404-Trang không tồn tại'\n      },\n      name: 'notfound',\n      component: () => import('@/views/errors/404')\n    }\n  ]\n})\n\nrouter.beforeEach((to, from, next) => {\n  document.title = itemTitle(to.meta)\n  let auth = ls('auth') || {}\n  if (to.matched.some(record => record.meta.require_auth) && !auth.access_token) {\n    next({\n      name: 'login',\n      query: { redirect: to.fullPath }\n    })\n  } else if (to.matched.some(record => record.meta.guest && (record.name === 'login' || record.name === 'register')) && auth.access_token) {\n    next({\n      name: 'home'\n    })\n  } else {\n    next()\n  }\n})\n\nfunction itemTitle (item) {\n  if (typeof item.title === 'object') {\n    return i18n.tc(item.title.i18n)\n  } else {\n    return item.title\n  }\n}\n\nexport default router\n"]}]}