{"remainingRequest":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nguyenxuancuong/Sites/hrm_fe/src/views/contracts/Detail.vue?vue&type=style&index=0&id=cf43bd8e&scoped=true&lang=css&","dependencies":[{"path":"/home/nguyenxuancuong/Sites/hrm_fe/src/views/contracts/Detail.vue","mtime":1541476636560},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/cache-loader/dist/cjs.js","mtime":1538403001796},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@media (min-width: 250px){\n  .display-detail{\n    display: none;\n  }\n  .fontSize{\n    font-size: 16px;\n  }\n}\n@media (min-width: 600px){\n   .display-detail{\n     display: block ;\n   }\n}\n",{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/contracts","sourcesContent":["<template>\n  <v-layout ref=\"laylout\" row fill-height>\n    <v-flex xl4 lg4 md4  sm4 class=\"display-detail\">\n      <listting type=\"detail\" :is-mini=\"true\" />\n    </v-flex>\n    <v-flex xl8 lg8 md8 sm8 xs12 class=\"border-e0-left\">\n     <v-toolbar dense color=\"white\" flat>\n       <v-toolbar-title>{{contractDetail.title}} </v-toolbar-title>\n       <v-spacer></v-spacer>\n       <v-menu :nudge-width=\"100\" offset-y>\n        <v-list>\n          <v-list-tile\n          v-for=\"item in 10\"\n          :key=\"item\"\n          >\n          <v-list-tile-title v-text=\"item\"></v-list-tile-title>\n        </v-list-tile>\n      </v-list>\n    </v-menu>\n    <v-tooltip bottom>\n      <v-btn slot=\"activator\"  v-if=\"canAccess('contract.update')\" icon @click=\"editContract(contractDetail)\">\n        <v-icon class='theme--light teal--text'>edit</v-icon>\n      </v-btn>\n      <span>Sửa</span>\n    </v-tooltip>\n    <v-tooltip bottom>\n      <v-btn slot=\"activator\" class=\"theme--light pink--text\" v-if=\"canAccess('contract.delete')\" @click=\"removeConfirm()\" icon>\n        <v-icon>delete</v-icon>\n      </v-btn>\n      <span>Xóa</span>\n    </v-tooltip>\n    <v-tooltip bottom>\n      <v-btn slot=\"activator\" icon @click=\"closeContract\" >\n        <v-icon>close</v-icon>\n      </v-btn>\n      <span>Đóng</span>\n    </v-tooltip>\n  </v-toolbar>\n  <v-container fluid class=\"white scroll-y border-e0-top\" :style=\"{height: dataViewHeight + 'px'}\">\n    <v-layout row wrap>\n      <v-flex xl4 lg4 md4  sm4 xs5>\n           <p class=\"fontSize\"><b>Tiêu đề</b></p>\n      </v-flex>\n      <v-flex xl8 lg8 md8  sm8 xs7>\n           <p class=\"fontSize\"> {{ contractDetail.title }}</p>\n      </v-flex>\n      <v-flex xl4 lg4 md4  sm4 xs5>\n          <p class=\"fontSize\"><b>Link</b></p>\n      </v-flex>\n      <v-flex xl8 lg8 md8  sm8 xs7>\n            <p class=\"fontSize\"><a v-bind:href=\"contractDetail.link\" target=\"_blank\">{{ contractDetail.link }} </a></p>\n      </v-flex>\n       <v-flex xl4 lg4 md4  sm4 xs5>\n        <p class=\"fontSize\"><b>Loại hợp đồng</b></p>\n      </v-flex>\n      <v-flex xl8 lg8 md8  sm8 xs7>\n        <p class=\"fontSize\">{{ contractDetail.type_txt }}</p>\n      </v-flex>\n       <v-flex xl4 lg4 md4  sm4 xs5>\n          <p class=\"fontSize\"> <b>Trạng thái</b></p>\n      </v-flex>\n      <v-flex xl8 lg8 md8  sm8 xs7>\n          <p class=\"fontSize\" style=\" color:#03A9F4\" v-if=\"contractDetail.status == 0\" >{{ contractDetail.status_txt }}</p>\n          <p class=\"fontSize\" style=\"color:#FF5722\" v-else-if=\"contractDetail.status == 1\" >{{ contractDetail.status_txt }}</p>\n          <p class=\"fontSize\" style=\"color:green\" v-else-if=\"contractDetail.status == 2\" >{{ contractDetail.status_txt }}</p>\n      </v-flex>\n      <v-flex xl4 lg4 md4  sm4 xs5>\n        <p class=\"fontSize\"><b>Ngày ký</b></p>\n      </v-flex>\n      <v-flex xl8 lg8 md8  sm8 xs7>\n        <p class=\"fontSize\"> {{contractDetail.date_sign_format}}</p>\n      </v-flex>\n       <v-flex xl4 lg4 md4  sm4 xs5>\n        <p class=\"fontSize\"><b>Ngày hiệu lực</b></p>\n      </v-flex>\n      <v-flex xl8 lg8 md8  sm8 xs7>\n        <p class=\"fontSize\">{{ contractDetail.date_effective_format }}</p>\n      </v-flex>\n      <v-flex xl4 lg4 md4  sm4 xs5>\n          <p class=\"fontSize\"><b>Ngày kết thúc hợp đồng</b></p>\n      </v-flex>\n      <v-flex xl8 lg8 md8  sm8 xs7>\n          <p class=\"fontSize\"> {{contractDetail.date_expiration_format}}</p>\n      </v-flex>\n      <v-flex xl4 lg4 md4  sm4 xs5>\n         <p class=\"fontSize\"><b>Tên nhân viên</b></p>\n      </v-flex>\n      <v-flex xl8 lg8 md8  sm8 xs7>\n          <p class=\"fontSize\"> <a @click.stop=\"editEmployee(contractDetail.employee_id)\">{{contractDetail.employee_name}}</a></p>\n      </v-flex>\n       <v-flex xl4 lg4 md4  sm4 xs5>\n        <p class=\"fontSize\"><b>Số điện thoại</b></p>\n      </v-flex>\n      <v-flex xl8 lg8 md8  sm8 xs7>\n         <p class=\"fontSize\"> {{contractDetail.employee_phone}}</p>\n       </v-flex>\n    </v-layout>\n  </v-container>\n</v-flex>\n  <dialog-confirm v-model=\"dialogDelete\" @input=\"remove\" />\n</v-layout>\n</template>\n<script type=\"text/javascript\">\nimport Listting from './Listting'\nimport { mapActions, mapGetters } from 'vuex'\nimport DialogConfirm from '@/components/DialogConfirm'\nexport default{\n  name: 'ContractDetail',\n  components: {\n    Listting,\n    DialogConfirm\n  },\n  data () {\n    return {\n      dataViewHeight: 0,\n      dialogDelete: false,\n      dataViewName: 'contract'\n    }\n  },\n  computed: {\n    ...mapGetters('Contracts', ['contractDetail'])\n  },\n  methods: {\n    ...mapActions(['setMiniDrawer']),\n    ...mapActions('Contracts', ['getContract', 'deleteContract']),\n    ...mapActions('Dataview', ['removeDataviewEntry']),\n    ...mapActions('Employee', ['getEmployee', 'getEmployees']),\n    /// detail employee\n    editEmployee (id) {\n      this.getEmployee({ employeeId: id, params: { include: 'roles,departments,contracts' } })\n      this.$router.push({ name: 'employee-detail', params: { id: id } })\n    },\n    editContract (contractDetail) {\n      this.getContract({ params: { include: 'employee' }, contractId: contractDetail.id })\n      this.getEmployees({ q: contractDetail.employee_name })\n      this.$router.push({ name: 'contract-edit', params: { id: contractDetail.id } })\n    },\n    removeConfirm () {\n      this.dialogDelete = true\n    },\n    closeContract () {\n      this.setMiniDrawer(false)\n      this.$router.push({ name: 'contract' })\n    },\n    remove (confirm) {\n      if (confirm) {\n        this.deleteContract({\n          id: this.$route.params.id,\n          cb: (response) => {\n            this.removeDataviewEntry({\n              name: 'contract',\n              data: this.contractDetail,\n              key: 'id'\n            })\n            this.$store.dispatch('showNotify', {\n              text: this.$t('alert.delete-contract'),\n              color: 'success'\n            })\n            this.dialogDelete = false\n            this.$router.push({ name: 'contract' })\n          },\n          error: (error) => {\n            if (error.status === 404) {\n              this.$store.dispatch('showNotify', {\n                text: this.$t('alert.not-found'),\n                color: 'warning'\n              })\n            }\n          }\n        })\n      }\n    }\n\n  },\n  created () {\n    this.setMiniDrawer(true)\n    if (!this.contractDetail.id) {\n      this.getContract({ params: { include: 'employee' }, contractId: this.$route.params.id })\n    }\n  },\n  mounted () {\n    this.dataViewHeight = this.$refs.laylout.clientHeight - 50\n  }\n}\n</script>\n<style scoped>\n  @media (min-width: 250px){\n    .display-detail{\n      display: none;\n    }\n    .fontSize{\n      font-size: 16px;\n    }\n  }\n  @media (min-width: 600px){\n     .display-detail{\n       display: block ;\n     }\n  }\n</style>\n"]}]}