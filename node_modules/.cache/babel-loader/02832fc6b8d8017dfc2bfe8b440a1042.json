{"remainingRequest":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js!/home/nguyenxuancuong/Sites/hrm_fe/node_modules/eslint-loader/index.js??ref--13-0!/home/nguyenxuancuong/Sites/hrm_fe/src/store/modules/dataview.js","dependencies":[{"path":"/home/nguyenxuancuong/Sites/hrm_fe/src/store/modules/dataview.js","mtime":1538377839382},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/cache-loader/dist/cjs.js","mtime":1534394480737},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js","mtime":1534394476611},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/eslint-loader/index.js","mtime":1534394478618}],"contextDependencies":[],"result":["import _defineProperty from \"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/@babel/runtime/helpers/builtin/es6/defineProperty\";\nimport _objectSpread from \"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n\nvar _mutations;\n\nimport { SET_DATA_VIEW, UPDATE_DATA_VIEW_ENTRY, REMOVE_DATA_VIEW_ENTRY, SET_INITIAL_STATE } from '../mutation-types';\nimport { get, set, findIndex, unset, uniqBy } from 'lodash';\nvar DEFAULT_PAGINATION = {\n  current_page: null,\n  total_pages: null,\n  total: null,\n  count: null,\n  per_page: null\n};\nvar DEFAULT_MODULE_DATA = {\n  data: [],\n  pagination: _objectSpread({}, DEFAULT_PAGINATION),\n  lastScrollPos: 0\n};\n\nvar initState = function initState() {\n  return {\n    dataViews: {\n      user: _objectSpread({}, DEFAULT_MODULE_DATA),\n      city: _objectSpread({}, DEFAULT_MODULE_DATA),\n      position: _objectSpread({}, DEFAULT_MODULE_DATA),\n      department: _objectSpread({}, DEFAULT_MODULE_DATA),\n      setting: _objectSpread({}, DEFAULT_MODULE_DATA),\n      plan: _objectSpread({}, DEFAULT_MODULE_DATA),\n      branch: _objectSpread({}, DEFAULT_MODULE_DATA),\n      candidate: _objectSpread({}, DEFAULT_MODULE_DATA)\n    }\n  };\n};\n/**\n * state\n */\n\n\nvar state = {\n  dataViews: initState().dataViews\n  /**\n   * actions\n   */\n\n};\nvar actions = {\n  setDataview: function setDataview(_ref, payload) {\n    var commit = _ref.commit;\n    commit(SET_DATA_VIEW, payload);\n  },\n  initDataview: function initDataview(_ref2, payload) {\n    var dispatch = _ref2.dispatch,\n        state = _ref2.state;\n    payload.name && !state.dataViews[payload.name] && dispatch('setDataview', {\n      name: payload.name,\n      data: [],\n      pagination: _objectSpread({}, DEFAULT_PAGINATION),\n      lastScrollPos: 0\n    });\n  },\n  reloadDataview: function reloadDataview(_ref3, payload) {\n    var dispatch = _ref3.dispatch;\n    payload.name && dispatch('setDataview', {\n      name: payload.name,\n      data: [],\n      pagination: _objectSpread({}, DEFAULT_PAGINATION),\n      lastScrollPos: 0\n    });\n  },\n  updateDataviewEntry: function updateDataviewEntry(_ref4, payload) {\n    var commit = _ref4.commit;\n    commit(UPDATE_DATA_VIEW_ENTRY, payload);\n  },\n  removeDataviewEntry: function removeDataviewEntry(_ref5, payload) {\n    var commit = _ref5.commit;\n    commit(REMOVE_DATA_VIEW_ENTRY, payload);\n  }\n};\n/**\n * mutations\n */\n\nvar mutations = (_mutations = {}, _defineProperty(_mutations, SET_DATA_VIEW, function (state, payload) {\n  var name = payload.name,\n      data = payload.data,\n      pagination = payload.pagination,\n      lastScrollPos = payload.lastScrollPos,\n      uniqueKey = payload.uniqueKey;\n  uniqueKey = uniqueKey || 'id';\n  data && set(state.dataViews, \"\".concat(name, \".data\"), uniqBy(data, uniqueKey));\n  pagination && set(state.dataViews, \"\".concat(name, \".pagination\"), pagination);\n  Number.isInteger(lastScrollPos) && set(state.dataViews, \"\".concat(name, \".lastScrollPos\"), lastScrollPos);\n}), _defineProperty(_mutations, UPDATE_DATA_VIEW_ENTRY, function (state, payload) {\n  var name = payload.name,\n      data = payload.data,\n      key = payload.key;\n  var index = findIndex(get(state.dataViews, \"\".concat(name, \".data\")), _defineProperty({}, key, data[key]));\n  index !== -1 && !!data && set(state.dataViews, \"\".concat(name, \".data[\").concat(index, \"]\"), data);\n  state.dataViews[name]['data'] = Object.values(Object.assign({}, state.dataViews[name]['data']));\n}), _defineProperty(_mutations, REMOVE_DATA_VIEW_ENTRY, function (state, payload) {\n  var name = payload.name,\n      data = payload.data,\n      key = payload.key;\n  var index = findIndex(get(state.dataViews, \"\".concat(name, \".data\")), _defineProperty({}, key, data[key]));\n  index !== -1 && !!data && unset(state.dataViews, \"\".concat(name, \".data[\").concat(index, \"]\"));\n  state.dataViews[name]['data'] = Object.values(Object.assign({}, state.dataViews[name]['data']));\n}), _defineProperty(_mutations, SET_INITIAL_STATE, function (state) {\n  state.dataViews = initState().dataViews;\n}), _mutations);\n/**\n * getters\n */\n\nvar getters = {\n  dataViews: function dataViews(state) {\n    return function (name) {\n      return get(state.dataViews, name, {\n        data: [],\n        pagination: _objectSpread({}, DEFAULT_PAGINATION),\n        lastScrollPos: 0\n      });\n    };\n  }\n};\nexport default {\n  namespaced: true,\n  state: state,\n  actions: actions,\n  mutations: mutations,\n  getters: getters\n};",{"version":3,"sources":["src/store/modules/dataview.js"],"names":["SET_DATA_VIEW","UPDATE_DATA_VIEW_ENTRY","REMOVE_DATA_VIEW_ENTRY","SET_INITIAL_STATE","get","set","findIndex","unset","uniqBy","DEFAULT_PAGINATION","current_page","total_pages","total","count","per_page","DEFAULT_MODULE_DATA","data","pagination","lastScrollPos","initState","dataViews","user","city","position","department","setting","plan","branch","candidate","state","actions","setDataview","payload","commit","initDataview","dispatch","name","reloadDataview","updateDataviewEntry","removeDataviewEntry","mutations","uniqueKey","Number","isInteger","key","index","Object","values","assign","getters","namespaced"],"mappings":"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","sourceRoot":"/home/nguyenxuancuong/Sites/hrm_fe","sourcesContent":["import {\n  SET_DATA_VIEW,\n  UPDATE_DATA_VIEW_ENTRY,\n  REMOVE_DATA_VIEW_ENTRY,\n  SET_INITIAL_STATE\n} from '../mutation-types'\nimport { get, set, findIndex, unset, uniqBy } from 'lodash'\n\nconst DEFAULT_PAGINATION = { current_page: null, total_pages: null, total: null, count: null, per_page: null }\nconst DEFAULT_MODULE_DATA = {\n  data: [],\n  pagination: { ...DEFAULT_PAGINATION },\n  lastScrollPos: 0\n}\n\nconst initState = () => {\n  return {\n    dataViews: {\n      user: { ...DEFAULT_MODULE_DATA },\n      city: { ...DEFAULT_MODULE_DATA },\n      position: { ...DEFAULT_MODULE_DATA },\n      department: { ...DEFAULT_MODULE_DATA },\n      setting: { ...DEFAULT_MODULE_DATA },\n      plan: { ...DEFAULT_MODULE_DATA },\n      branch: { ...DEFAULT_MODULE_DATA },\n      candidate: { ...DEFAULT_MODULE_DATA }\n    }\n  }\n}\n\n/**\n * state\n */\nconst state = {\n  dataViews: initState().dataViews\n}\n\n/**\n * actions\n */\nconst actions = {\n  setDataview ({ commit }, payload) {\n    commit(SET_DATA_VIEW, payload)\n  },\n  initDataview ({ dispatch, state }, payload) {\n    payload.name && !state.dataViews[payload.name] && dispatch('setDataview', { name: payload.name, data: [], pagination: { ...DEFAULT_PAGINATION }, lastScrollPos: 0 })\n  },\n  reloadDataview ({ dispatch }, payload) {\n    payload.name && dispatch('setDataview', { name: payload.name, data: [], pagination: { ...DEFAULT_PAGINATION }, lastScrollPos: 0 })\n  },\n  updateDataviewEntry ({ commit }, payload) {\n    commit(UPDATE_DATA_VIEW_ENTRY, payload)\n  },\n  removeDataviewEntry ({ commit }, payload) {\n    commit(REMOVE_DATA_VIEW_ENTRY, payload)\n  }\n}\n\n/**\n * mutations\n */\nconst mutations = {\n  [SET_DATA_VIEW]: (state, payload) => {\n    let { name, data, pagination, lastScrollPos, uniqueKey } = payload\n    uniqueKey = uniqueKey || 'id'\n    data && set(state.dataViews, `${name}.data`, uniqBy(data, uniqueKey))\n    pagination && set(state.dataViews, `${name}.pagination`, pagination)\n    Number.isInteger(lastScrollPos) && set(state.dataViews, `${name}.lastScrollPos`, lastScrollPos)\n  },\n  [UPDATE_DATA_VIEW_ENTRY]: (state, payload) => {\n    let { name, data, key } = payload\n    let index = findIndex(get(state.dataViews, `${name}.data`), { [key]: data[key] })\n    index !== -1 && !!data && set(state.dataViews, `${name}.data[${index}]`, data)\n    state.dataViews[name]['data'] = Object.values(Object.assign({}, state.dataViews[name]['data']))\n  },\n  [REMOVE_DATA_VIEW_ENTRY]: (state, payload) => {\n    let { name, data, key } = payload\n    let index = findIndex(get(state.dataViews, `${name}.data`), { [key]: data[key] })\n    index !== -1 && !!data && unset(state.dataViews, `${name}.data[${index}]`)\n    state.dataViews[name]['data'] = Object.values(Object.assign({}, state.dataViews[name]['data']))\n  },\n  [SET_INITIAL_STATE]: (state) => {\n    state.dataViews = initState().dataViews\n  }\n}\n\n/**\n * getters\n */\nconst getters = {\n  dataViews: state => name => get(state.dataViews, name, { data: [], pagination: { ...DEFAULT_PAGINATION }, lastScrollPos: 0 })\n}\n\nexport default {\n  namespaced: true,\n  state,\n  actions,\n  mutations,\n  getters\n}\n"]}]}