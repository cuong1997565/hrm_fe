{"remainingRequest":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js!/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nguyenxuancuong/Sites/hrm_fe/src/views/setting/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nguyenxuancuong/Sites/hrm_fe/src/views/setting/Index.vue","mtime":1538377839386},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/cache-loader/dist/cjs.js","mtime":1534394480737},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js","mtime":1534394476611},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js","mtime":1536410629618}],"contextDependencies":[],"result":["import _defineProperty from \"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/@babel/runtime/helpers/builtin/es6/defineProperty\";\nimport _objectSpread from \"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DialogConfirm from '@/components/DialogConfirm';\nimport { mapActions, mapGetters } from 'vuex';\nexport default _defineProperty({\n  components: {\n    DialogConfirm: DialogConfirm\n  },\n  data: function data() {\n    return {\n      idSetting: null,\n      dialogDelete: false,\n      dialog: false,\n      headers: [{\n        text: 'STT',\n        sortable: false\n      }, {\n        text: 'Tên thông tin',\n        sortable: false\n      }, {\n        text: 'Giá trị',\n        sortable: false\n      }, {\n        text: 'Trạng Thái',\n        sortable: false\n      }, {\n        text: 'Hành động',\n        sortable: false\n      }],\n      editedIndex: -1,\n      setting: {\n        status: true\n      },\n      defaultItem: {\n        status: true\n      }\n    };\n  },\n  computed: _objectSpread({\n    formTitle: function formTitle() {\n      return this.editedIndex === -1 ? 'Thêm thông tin' : 'Sửa thông tin';\n    }\n  }, mapGetters('Setting', ['settingDetail']), mapGetters(['isFetchingApi'])),\n  methods: _objectSpread({}, mapActions(['setMiniDrawer']), mapActions('Setting', ['FetchSetting', 'deleteSetting']), mapActions('Dataview', ['removeDataviewEntry'])),\n  created: function created() {\n    this.FetchSetting();\n  },\n  mounted: function mounted() {\n    this.dataViewHeight = this.$refs.laylout.clientHeight - 48;\n  }\n}, \"methods\", _objectSpread({}, mapActions(['setMiniDrawer']), mapActions('Setting', ['FetchSetting', 'deleteSetting', 'updateSetting']), mapActions(['showNotify', 'setMiniDrawer']), mapActions('Setting', ['createSetting']), {\n  addSetting: function addSetting() {\n    this.dialog = true;\n  },\n  editItem: function editItem(item, id) {\n    this.idSetting = id;\n    this.editedIndex = this.settingDetail.indexOf(item);\n    this.setting = Object.assign({}, item);\n    this.dialog = true;\n  },\n  removeConfirm: function removeConfirm(id) {\n    this.idSetting = id;\n    this.dialogDelete = true;\n  },\n  remove: function remove(confirm) {\n    var _this = this;\n\n    if (confirm) {\n      this.deleteSetting({\n        id: this.idSetting,\n        cb: function cb(response) {\n          _this.$store.dispatch('showNotify', {\n            text: _this.$t('alert.success'),\n            color: 'success'\n          });\n\n          _this.dialogDelete = false;\n\n          _this.FetchSetting();\n        },\n        error: function error(_error) {\n          if (_error.status === 404) {\n            _this.$store.dispatch('showNotify', {\n              text: _this.$t('alert.not-found'),\n              color: 'warning'\n            });\n          }\n        }\n      });\n    }\n  },\n  close: function close() {\n    var _this2 = this;\n\n    this.dialog = false;\n    setTimeout(function () {\n      _this2.setting = Object.assign({}, _this2.defaultItem);\n      _this2.editedIndex = -1;\n    }, 300);\n  },\n  submitForm: function submitForm() {\n    var _this3 = this;\n\n    if (this.editedIndex === -1) {\n      this.createSetting({\n        setting: this.setting,\n        cb: function cb(response) {\n          _this3.dialog = false;\n          setTimeout(function () {\n            _this3.setting = Object.assign({}, _this3.defaultItem);\n            _this3.editedIndex = -1;\n          }, 300);\n\n          _this3.showNotify({\n            color: 'success',\n            text: 'Thành công'\n          });\n\n          _this3.FetchSetting();\n        }\n      });\n    } else {\n      this.updateSetting({\n        id: this.idSetting,\n        setting: this.setting,\n        cb: function cb(response) {\n          _this3.FetchSetting();\n\n          _this3.showNotify({\n            color: 'success',\n            text: 'Thành công'\n          });\n\n          _this3.dialog = false;\n          setTimeout(function () {\n            _this3.setting = Object.assign({}, _this3.defaultItem);\n            _this3.editedIndex = -1;\n          }, 300);\n        }\n      });\n    }\n  }\n}));",{"version":3,"sources":["Index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-layout ref=\"laylout\" column fill-height>\n    <v-toolbar dense color=\"white\" flat>\n      <v-spacer></v-spacer>\n      <h3>Thiết lập thông tin công ty</h3>\n      <v-spacer></v-spacer>\n      <v-btn v-if=\"canAccess('setting.create')\"\n      class=\"mr-5\" icon color=\"primary\"\n      @click=\"addSetting\">\n      <v-icon>add</v-icon>\n    </v-btn>\n  </v-toolbar>\n  <v-flex>\n  <v-dialog v-model=\"dialog\" max-width=\"500px\">\n    <v-card>\n      <v-card-title>\n        <span class=\"headline\">{{ formTitle }}</span>\n      </v-card-title>\n      <!-- form edit -->\n      <v-card-text id=\"formSub\">\n        <v-container grid-list-md class=\"white scroll-y border-e0-top\">\n          <v-layout wrap>\n            <!-- name -->\n            <v-flex xs12 sm6 md12>\n              <v-text-field\n              placeholder=\"nhập tên\"\n              :error-messages=\"errors.has('name') ? errors.collect('name') : []\"\n              v-validate=\"'required'\"\n              :data-vv-as=\"$t('label.name')\"\n              name=\"name\"\n              :label=\"$t('label.name') + '*'\"\n              v-model=\"setting.name\"> </v-text-field>\n            </v-flex>\n            <!-- value -->\n            <v-flex xs12 sm6 md12>\n              <v-text-field\n              placeholder=\"nhập gía trị\"\n              v-validate=\"'required'\"\n              :error-messages=\"errors.has('value') ? errors.collect('value') : []\"\n              :data-vv-as=\"$t('label.value')\"\n              name=\"value\"\n              :label=\"$t('label.value')+ '*'\"\n              v-model=\"setting.value\"> </v-text-field>\n            </v-flex>\n            <!-- status -->\n            <v-flex xs12 sm6 md12>\n              <label>Trạng thái</label>\n              <v-checkbox\n              v-validate=\"'required'\"\n              style=\"margin-top:0px\"\n              :error-messages=\"errors.has('status') ? errors.collect('status') : []\"\n              :data-vv-as=\"$t('label.status')\"\n              name=\"status\"\n              v-model=\"setting.status\">\n            </v-checkbox>\n            <span v-if=\"setting.status\" class='status'>Hiển thị</span>\n            <span v-else class='status'>Không hiển thị</span>\n          </v-flex>\n        </v-layout>\n      </v-container>\n    </v-card-text>\n    <!-- end form edit -->\n    <v-card-actions>\n      <v-spacer></v-spacer>\n      <v-btn color=\"blue darken-1\" flat @click.native=\"close\">Hủy bỏ</v-btn>\n      <v-btn color=\"blue darken-1\" flat @click.native=\"submitForm\"><span v-if=\"editedIndex!==-1\">Lưu lại</span><span v-else>Thêm mới</span></v-btn>\n    </v-card-actions>\n  </v-card>\n</v-dialog>\n</v-flex>\n<v-container>\n  <v-data-table\n  v-if=\"Array.isArray(settingDetail)\"\n  :headers=\"headers\"\n  :items=\"settingDetail\"\n  hide-actions\n  expand\n  class=\"elevation-1\"\n  >\n  <template slot=\"items\" slot-scope=\"props\">\n    <td> {{ props.index + 1 }}</td>\n    <td style=\"text-transform: capitalize\">{{ props.item.name }}</td>\n    <td style=\"text-transform: capitalize\">{{ props.item.value }}</td>\n    <td>{{ props.item.status_txt }}</td>\n    <td id=\"action\"> <v-icon v-if=\"canAccess('setting.update')\" class=\"mr-6\" @click=\"editItem(props.item,props.item.id)\" color=\"green\"> edit</v-icon>\n      <v-icon style=\"margin-left:10px\" v-if=\"canAccess('setting.delete')\" icon @click=\"removeConfirm(props.item.id)\" color=\"red\"> delete </v-icon>\n    </td>\n  </template>\n</v-data-table>\n</v-container>\n<dialog-confirm v-model=\"dialogDelete\" @input=\"remove\" />\n</v-layout>\n</template>\n<script>\nimport DialogConfirm from '@/components/DialogConfirm'\nimport { mapActions, mapGetters } from 'vuex'\nexport default{\n  components: {\n    DialogConfirm\n  },\n  data: () => ({\n    idSetting: null,\n    dialogDelete: false,\n    dialog: false,\n    headers: [\n      { text: 'STT', sortable: false },\n      { text: 'Tên thông tin', sortable: false },\n      { text: 'Giá trị', sortable: false },\n      { text: 'Trạng Thái', sortable: false },\n      { text: 'Hành động', sortable: false }\n    ],\n    editedIndex: -1,\n    setting: {\n      status: true\n    },\n    defaultItem: {\n      status: true\n    }\n  }),\n  computed: {\n    formTitle () {\n      return this.editedIndex === -1 ? 'Thêm thông tin' : 'Sửa thông tin'\n    },\n    ...mapGetters('Setting', ['settingDetail']),\n    ...mapGetters(['isFetchingApi'])\n  },\n  methods: {\n    ...mapActions(['setMiniDrawer']),\n    ...mapActions('Setting', ['FetchSetting', 'deleteSetting']),\n    ...mapActions('Dataview', ['removeDataviewEntry'])\n    // removeConfirm (item) {\n    //   console.log('data', item)\n    //   swal({\n    //     title: 'Xác nhận',\n    //     text: 'Bạn chắc chắn muốn xóa bản ghi này',\n    //     buttons: true,\n    //     dangerMode: true\n    //   })\n    //     .then((willDelete) => {\n    //       if (willDelete) {\n    //         console.log('data 1', item)\n    //         this.deleteSetting({\n    //           id: item.id,\n    //           cb: (response) => {\n    //             this.removeDataviewEntry({\n    //               name: 'setting',\n    //               data: item,\n    //               key: 'id'\n    //             })\n    //             this.$store.dispatch('showNotify', {\n    //               text: this.$t('alert.success'),\n    //               color: 'success'\n    //             })\n    //           },\n    //           error: (error) => {\n    //             if (error.status === 404) {\n    //               this.$store.dispatch('showNotify', {\n    //                 text: this.$t('alert.not-found'),\n    //                 color: 'warning'\n    //               })\n    //             }\n    //           }\n    //         })\n    //       }\n    //     })\n    // }\n\n  },\n  created () {\n    this.FetchSetting()\n  },\n  mounted () {\n    this.dataViewHeight = this.$refs.laylout.clientHeight - 48\n  },\n  methods: {\n    ...mapActions(['setMiniDrawer']),\n    ...mapActions('Setting', ['FetchSetting', 'deleteSetting', 'updateSetting']),\n    ...mapActions(['showNotify', 'setMiniDrawer']),\n    ...mapActions('Setting', ['createSetting']),\n    addSetting () {\n      this.dialog = true\n    },\n    editItem (item, id) {\n      this.idSetting = id\n      this.editedIndex = this.settingDetail.indexOf(item)\n      this.setting = Object.assign({}, item)\n      this.dialog = true\n    },\n    removeConfirm (id) {\n      this.idSetting = id\n      this.dialogDelete = true\n    },\n    remove (confirm) {\n      if (confirm) {\n        this.deleteSetting({\n          id: this.idSetting,\n          cb: (response) => {\n            this.$store.dispatch('showNotify', {\n              text: this.$t('alert.success'),\n              color: 'success'\n            })\n            this.dialogDelete = false\n            this.FetchSetting()\n          },\n          error: (error) => {\n            if (error.status === 404) {\n              this.$store.dispatch('showNotify', {\n                text: this.$t('alert.not-found'),\n                color: 'warning'\n              })\n            }\n          }\n        })\n      }\n    },\n    close () {\n      this.dialog = false\n      setTimeout(() => {\n        this.setting = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      }, 300)\n    },\n    submitForm () {\n      if (this.editedIndex === -1) {\n        this.createSetting({\n          setting: this.setting,\n          cb: (response) => {\n            this.dialog = false\n            setTimeout(() => {\n              this.setting = Object.assign({}, this.defaultItem)\n              this.editedIndex = -1\n            }, 300)\n            this.showNotify({\n              color: 'success',\n              text: 'Thành công'\n            })\n            this.FetchSetting()\n          }\n        })\n      } else {\n        this.updateSetting({\n          id: this.idSetting,\n          setting: this.setting,\n          cb: (response) => {\n            this.FetchSetting()\n            this.showNotify({\n              color: 'success',\n              text: 'Thành công'\n            })\n            this.dialog = false\n            setTimeout(() => {\n              this.setting = Object.assign({}, this.defaultItem)\n              this.editedIndex = -1\n            }, 300)\n          }\n        })\n      }\n    }\n  }\n}\n</script>\n<style scoped>\nspan.status{\n  position: absolute;\n  bottom: 118px;\n  left:70px;\n}\n</style>\n"],"sourceRoot":"src/views/setting"}]}