{"remainingRequest":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js!/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nguyenxuancuong/Sites/hrm_fe/src/views/role/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nguyenxuancuong/Sites/hrm_fe/src/views/role/Detail.vue","mtime":1538377839386},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/cache-loader/dist/cjs.js","mtime":1534394480737},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/babel-loader/lib/index.js","mtime":1534394476611},{"path":"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/vue-loader/lib/index.js","mtime":1536410629618}],"contextDependencies":[],"result":["import _objectSpread from \"/home/nguyenxuancuong/Sites/hrm_fe/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Listting from './Listting';\nimport DialogConfirm from '@/components/DialogConfirm';\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  name: 'RoleDetail',\n  components: {\n    Listting: Listting,\n    DialogConfirm: DialogConfirm\n  },\n  data: function data() {\n    return {\n      search: '',\n      dataViewHeight: 0,\n      headers: [{\n        text: 'Nhóm quyền',\n        value: 'group'\n      }, {\n        text: 'Tên',\n        value: 'name'\n      }, {\n        text: 'slug',\n        value: 'slug'\n      }],\n      pagination: {\n        sortBy: 'name'\n      },\n      dialogDelete: false\n    };\n  },\n  computed: _objectSpread({}, mapGetters('Role', ['roleDetail'])),\n  methods: _objectSpread({}, mapActions(['setMiniDrawer']), mapActions('Role', ['getRole', 'deleteRole']), mapActions('Dataview', ['removeDataviewEntry']), {\n    removeConfirm: function removeConfirm() {\n      this.dialogDelete = true;\n    },\n    remove: function remove(confirm) {\n      var _this = this;\n\n      if (confirm) {\n        this.deleteRole({\n          id: this.$route.params.id,\n          cb: function cb(response) {\n            _this.removeDataviewEntry({\n              name: 'role',\n              data: _this.roleDetail,\n              key: 'id'\n            });\n\n            _this.$store.dispatch('showNotify', {\n              text: _this.$t('alert.success'),\n              color: 'success'\n            });\n\n            _this.dialogDelete = false;\n\n            _this.$router.push({\n              name: 'role'\n            });\n          },\n          error: function error(_error) {\n            if (_error.status === 404) {\n              _this.$store.dispatch('showNotify', {\n                text: _this.$t('alert.not-found'),\n                color: 'warning'\n              });\n            }\n          }\n        });\n      }\n    }\n  }),\n  created: function created() {\n    var _this2 = this;\n\n    this.setMiniDrawer(true);\n\n    if (!this.roleDetail.id) {\n      this.getRole({\n        roleId: this.$route.params.id,\n        params: {\n          include: 'pers'\n        },\n        error: function error(_error2) {\n          if (_error2.status === 404) {\n            _this2.$store.dispatch('showNotify', {\n              text: _this2.$t('alert.not-found'),\n              color: 'warning'\n            });\n\n            _this2.$router.push({\n              name: 'role'\n            });\n          }\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.dataViewHeight = this.$refs.laylout.clientHeight - 48;\n  }\n};",{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA,OAAA,QAAA,MAAA,YAAA;AACA,OAAA,aAAA,MAAA,4BAAA;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,QAAA,YADA;AAEA,cAAA;AACA,sBADA;AAEA;AAFA,GAFA;AAMA,MANA,kBAMA;AACA,WAAA;AACA,cAAA,EADA;AAEA,sBAAA,CAFA;AAGA,eAAA,CACA;AAAA,cAAA,YAAA;AAAA,eAAA;AAAA,OADA,EAEA;AAAA,cAAA,KAAA;AAAA,eAAA;AAAA,OAFA,EAGA;AAAA,cAAA,MAAA;AAAA,eAAA;AAAA,OAHA,CAHA;AAQA,kBAAA;AACA,gBAAA;AADA,OARA;AAWA,oBAAA;AAXA,KAAA;AAaA,GApBA;AAqBA,8BACA,WAAA,MAAA,EAAA,CAAA,YAAA,CAAA,CADA,CArBA;AAwBA,6BACA,WAAA,CAAA,eAAA,CAAA,CADA,EAEA,WAAA,MAAA,EAAA,CAAA,SAAA,EAAA,YAAA,CAAA,CAFA,EAGA,WAAA,UAAA,EAAA,CAAA,qBAAA,CAAA,CAHA;AAIA,iBAJA,2BAIA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,KANA;AAOA,UAPA,kBAOA,OAPA,EAOA;AAAA;;AACA,UAAA,OAAA,EAAA;AACA,aAAA,UAAA,CAAA;AACA,cAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EADA;AAEA,cAAA,YAAA,QAAA,EAAA;AACA,kBAAA,mBAAA,CAAA;AACA,oBAAA,MADA;AAEA,oBAAA,MAAA,UAFA;AAGA,mBAAA;AAHA,aAAA;;AAKA,kBAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA;AACA,oBAAA,MAAA,EAAA,CAAA,eAAA,CADA;AAEA,qBAAA;AAFA,aAAA;;AAIA,kBAAA,YAAA,GAAA,KAAA;;AACA,kBAAA,OAAA,CAAA,IAAA,CAAA;AAAA,oBAAA;AAAA,aAAA;AACA,WAdA;AAeA,iBAAA,eAAA,MAAA,EAAA;AACA,gBAAA,OAAA,MAAA,KAAA,GAAA,EAAA;AACA,oBAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA;AACA,sBAAA,MAAA,EAAA,CAAA,iBAAA,CADA;AAEA,uBAAA;AAFA,eAAA;AAIA;AACA;AAtBA,SAAA;AAwBA;AACA;AAlCA,IAxBA;AA4DA,SA5DA,qBA4DA;AAAA;;AACA,SAAA,aAAA,CAAA,IAAA;;AACA,QAAA,CAAA,KAAA,UAAA,CAAA,EAAA,EAAA;AACA,WAAA,OAAA,CAAA;AACA,gBAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EADA;AAEA,gBAAA;AAAA,mBAAA;AAAA,SAFA;AAGA,eAAA,eAAA,OAAA,EAAA;AACA,cAAA,QAAA,MAAA,KAAA,GAAA,EAAA;AACA,mBAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA;AACA,oBAAA,OAAA,EAAA,CAAA,iBAAA,CADA;AAEA,qBAAA;AAFA,aAAA;;AAIA,mBAAA,OAAA,CAAA,IAAA,CAAA;AAAA,oBAAA;AAAA,aAAA;AACA;AACA;AAXA,OAAA;AAaA;AACA,GA7EA;AA8EA,SA9EA,qBA8EA;AACA,SAAA,cAAA,GAAA,KAAA,KAAA,CAAA,OAAA,CAAA,YAAA,GAAA,EAAA;AACA;AAhFA,CAAA","sourcesContent":["<template>\n  <v-layout ref=\"laylout\" row fill-height>\n    <v-flex xs4>\n      <listting />\n    </v-flex>\n    <v-flex xs8 class=\"border-e0-left\">\n      <v-toolbar dense color=\"white\" flat>\n        <v-toolbar-title>{{ $t('title.role.detail') }}: {{roleDetail.name}}</v-toolbar-title>\n\n        <v-spacer></v-spacer>\n\n        <v-btn v-if=\"canAccess('role.update')\" icon @click=\"$router.push({name: 'role-edit', params: {id: $route.params.id}})\">\n          <v-icon>edit</v-icon>\n        </v-btn>\n\n        <v-btn v-if=\"canAccess('role.delete')\" icon @click=\"removeConfirm()\">\n          <v-icon>delete</v-icon>\n        </v-btn>\n\n        <v-btn icon @click=\"$router.push({name: 'role'})\">\n          <v-icon>close</v-icon>\n        </v-btn>\n      </v-toolbar>\n      <v-container fluid class=\"white scroll-y border-e0-top\" :style=\"{height: dataViewHeight + 'px'}\">\n          <p>Tên: {{ roleDetail.name }}</p>\n          <p>Slug: {{ roleDetail.slug }}</p>\n          <p>Mô tả: {{ roleDetail.description }}</p>\n          <v-card>\n            <v-card-title>\n              <v-spacer></v-spacer>\n              <v-text-field\n                v-model=\"search\"\n                append-icon=\"search\"\n                placeholder=\"Tìm kiếm...\"\n                single-line\n                hide-details\n              ></v-text-field>\n            </v-card-title>\n            <v-data-table\n              :headers=\"headers\"\n              :items=\"roleDetail.pers\"\n              :pagination.sync=\"pagination\"\n              :search=\"search\"\n            >\n              <template slot=\"items\" slot-scope=\"props\">\n                <td>{{props.item.group}}</td>\n                <td>{{props.item.name}}</td>\n                <td>{{props.item.slug}}</td>\n              </template>\n            </v-data-table>\n          </v-card>\n      </v-container>\n    </v-flex>\n    <dialog-confirm v-model=\"dialogDelete\" @input=\"remove\" />\n  </v-layout>\n</template>\n\n<script>\nimport Listting from './Listting'\nimport DialogConfirm from '@/components/DialogConfirm'\nimport { mapActions, mapGetters } from 'vuex'\nexport default{\n  name: 'RoleDetail',\n  components: {\n    Listting,\n    DialogConfirm\n  },\n  data () {\n    return {\n      search: '',\n      dataViewHeight: 0,\n      headers: [\n        { text: 'Nhóm quyền', value: 'group' },\n        { text: 'Tên', value: 'name' },\n        { text: 'slug', value: 'slug' }\n      ],\n      pagination: {\n        sortBy: 'name'\n      },\n      dialogDelete: false\n    }\n  },\n  computed: {\n    ...mapGetters('Role', ['roleDetail'])\n  },\n  methods: {\n    ...mapActions(['setMiniDrawer']),\n    ...mapActions('Role', ['getRole', 'deleteRole']),\n    ...mapActions('Dataview', ['removeDataviewEntry']),\n    removeConfirm () {\n      this.dialogDelete = true\n    },\n    remove (confirm) {\n      if (confirm) {\n        this.deleteRole({\n          id: this.$route.params.id,\n          cb: (response) => {\n            this.removeDataviewEntry({\n              name: 'role',\n              data: this.roleDetail,\n              key: 'id'\n            })\n            this.$store.dispatch('showNotify', {\n              text: this.$t('alert.success'),\n              color: 'success'\n            })\n            this.dialogDelete = false\n            this.$router.push({ name: 'role' })\n          },\n          error: (error) => {\n            if (error.status === 404) {\n              this.$store.dispatch('showNotify', {\n                text: this.$t('alert.not-found'),\n                color: 'warning'\n              })\n            }\n          }\n        })\n      }\n    }\n  },\n  created () {\n    this.setMiniDrawer(true)\n    if (!this.roleDetail.id) {\n      this.getRole({\n        roleId: this.$route.params.id,\n        params: { include: 'pers' },\n        error: (error) => {\n          if (error.status === 404) {\n            this.$store.dispatch('showNotify', {\n              text: this.$t('alert.not-found'),\n              color: 'warning'\n            })\n            this.$router.push({ name: 'role' })\n          }\n        }\n      })\n    }\n  },\n  mounted () {\n    this.dataViewHeight = this.$refs.laylout.clientHeight - 48\n  }\n}\n</script>\n"],"sourceRoot":"src/views/role"}]}